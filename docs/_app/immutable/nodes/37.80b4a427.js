import{S as Ln,i as An,s as Vn,y as Mn,a as O,k as m,q as v,K as T,z as Pn,c as G,l as w,m as f,r as d,h as s,L as I,n as e,_ as it,A as Tn,b as P,C as l,N as Pt,u as $e,g as In,d as Sn,B as Rn,M as Tt,P as Cn,o as Nn,e as Se,p as le,D as yt,V as Bn,X as On,J as pr}from"../chunks/index.5885d984.js";import{H as Gn}from"../chunks/global.4dde8b47.js";import"../chunks/transform.4d2927c0.js";import{m as xe,l as dr,d as En,u as Dn}from"../chunks/red-arrow.6fc67973.js";import{c as Hn}from"../chunks/stores.01dfc0ed.js";import{l as nn}from"../chunks/linear.6154f0ba.js";import{c as an}from"../chunks/csv.3ac754ad.js";import{t as Un,l as Kt}from"../chunks/line.277d9777.js";const qn=!0,ya=Object.freeze(Object.defineProperty({__proto__:null,prerender:qn},Symbol.toStringTag,{value:"Module"}));function sn(r,t,n){const a=r.slice();return a[38]=t[n],a[40]=n,a}function on(r,t,n){const a=r.slice();return a[41]=t[n],a}function cn(r,t,n){const a=r.slice();return a[44]=t[n],a}function un(r,t,n){const a=r.slice();return a[47]=t[n],a}function hn(r,t,n){const a=r.slice();return a[44]=t[n],a}function fn(r,t,n){const a=r.slice();return a[52]=t[n],a[40]=n,a}function vn(r,t,n){const a=r.slice();return a[41]=t[n],a}function Fn(r){let t,n,a,i,c,o=r[12].year1+"",u,h,b,p,V,R,N,q,K,H,E,j,S,W,ne,z,J,Z,L,B,re,y=r[13],C=[];for(let D=0;D<y.length;D+=1)C[D]=dn(vn(r,y,D));return{c(){t=m("div"),n=m("div"),a=T("svg"),i=T("line"),c=O(),u=v(o),h=v(" average"),b=O();for(let D=0;D<C.length;D+=1)C[D].c();p=O(),V=m("button"),R=v("All"),N=O(),q=m("button"),K=v("Clear"),H=O(),E=m("h2"),j=v(`Work = residents who work downtown\r
          `),S=m("br"),W=v(`\r
          Home = residents who live downtown\r
          `),ne=m("br"),z=v(`\r
          Visitor = residents who neither work nor live downtown\r
          `),J=m("br"),Z=m("br"),L=v(`\r
          Note: Activity percentages do not add up to the overall percentage as\r
          activities are weighted equally.`),this.h()},l(D){t=w(D,"DIV",{style:!0});var M=f(t);n=w(M,"DIV",{style:!0});var k=f(n);a=I(k,"svg",{height:!0,width:!0});var U=f(a);i=I(U,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),f(i).forEach(s),U.forEach(s),c=G(k),u=d(k,o),h=d(k," average"),k.forEach(s),b=G(M);for(let fe=0;fe<C.length;fe+=1)C[fe].l(M);p=G(M),V=w(M,"BUTTON",{class:!0});var Y=f(V);R=d(Y,"All"),Y.forEach(s),N=G(M),q=w(M,"BUTTON",{class:!0});var Q=f(q);K=d(Q,"Clear"),Q.forEach(s),H=G(M),E=w(M,"H2",{class:!0});var te=f(E);j=d(te,`Work = residents who work downtown\r
          `),S=w(te,"BR",{}),W=d(te,`\r
          Home = residents who live downtown\r
          `),ne=w(te,"BR",{}),z=d(te,`\r
          Visitor = residents who neither work nor live downtown\r
          `),J=w(te,"BR",{}),Z=w(te,"BR",{}),L=d(te,`\r
          Note: Activity percentages do not add up to the overall percentage as\r
          activities are weighted equally.`),te.forEach(s),M.forEach(s),this.h()},h(){e(i,"x1","0"),e(i,"y1","5"),e(i,"x2","50"),e(i,"y2","5"),e(i,"stroke","white"),e(i,"stroke-width","1"),e(i,"stroke-dasharray","3"),e(a,"height","10"),e(a,"width","50"),le(n,"display","flex"),le(n,"align-items","center"),le(n,"gap","8px"),e(V,"class","filter-btn svelte-1v7vl4n"),e(q,"class","filter-btn svelte-1v7vl4n"),e(E,"class","textLabelTiny svelte-1v7vl4n"),le(t,"display","flex"),le(t,"align-items","center"),le(t,"gap","10px"),le(t,"padding","10px 0"),le(t,"flex-wrap","wrap")},m(D,M){P(D,t,M),l(t,n),l(n,a),l(a,i),l(n,c),l(n,u),l(n,h),l(t,b);for(let k=0;k<C.length;k+=1)C[k]&&C[k].m(t,null);l(t,p),l(t,V),l(V,R),l(t,N),l(t,q),l(q,K),l(t,H),l(t,E),l(E,j),l(E,S),l(E,W),l(E,ne),l(E,z),l(E,J),l(E,Z),l(E,L),B||(re=[Pt(V,"click",r[17]),Pt(q,"click",r[18])],B=!0)},p(D,M){if(M[0]&122896){y=D[13];let k;for(k=0;k<y.length;k+=1){const U=vn(D,y,k);C[k]?C[k].p(U,M):(C[k]=dn(U),C[k].c(),C[k].m(t,p))}for(;k<C.length;k+=1)C[k].d(1);C.length=y.length}},d(D){D&&s(t),Tt(C,D),B=!1,Cn(re)}}}function Wn(r){let t,n,a,i,c,o=r[12].year1+"",u,h,b,p,V,R,N,q=r[12].year1+"",K,H,E,j,S,W,ne=r[12].year2+"",z,J,Z,L,B,re,y=r[12].year3+"",C;return{c(){t=m("div"),n=m("div"),a=T("svg"),i=T("line"),c=O(),u=v(o),h=v(" average"),b=O(),p=m("div"),V=T("svg"),R=T("line"),N=O(),K=v(q),H=O(),E=m("div"),j=T("svg"),S=T("line"),W=O(),z=v(ne),J=O(),Z=m("div"),L=T("svg"),B=T("line"),re=O(),C=v(y),this.h()},l(D){t=w(D,"DIV",{style:!0});var M=f(t);n=w(M,"DIV",{style:!0});var k=f(n);a=I(k,"svg",{height:!0,width:!0});var U=f(a);i=I(U,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),f(i).forEach(s),U.forEach(s),c=G(k),u=d(k,o),h=d(k," average"),k.forEach(s),b=G(M),p=w(M,"DIV",{style:!0});var Y=f(p);V=I(Y,"svg",{height:!0,width:!0});var Q=f(V);R=I(Q,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(R).forEach(s),Q.forEach(s),N=G(Y),K=d(Y,q),Y.forEach(s),H=G(M),E=w(M,"DIV",{style:!0});var te=f(E);j=I(te,"svg",{height:!0,width:!0});var fe=f(j);S=I(fe,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(S).forEach(s),fe.forEach(s),W=G(te),z=d(te,ne),te.forEach(s),J=G(M),Z=w(M,"DIV",{style:!0});var ge=f(Z);L=I(ge,"svg",{height:!0,width:!0});var Ve=f(L);B=I(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(B).forEach(s),Ve.forEach(s),re=G(ge),C=d(ge,y),ge.forEach(s),M.forEach(s),this.h()},h(){e(i,"x1","0"),e(i,"y1","5"),e(i,"x2","50"),e(i,"y2","5"),e(i,"stroke","white"),e(i,"stroke-width","1"),e(i,"stroke-dasharray","3"),e(a,"height","10"),e(a,"width","50"),le(n,"display","flex"),le(n,"align-items","center"),le(n,"gap","8px"),e(R,"x1","0"),e(R,"y1","5"),e(R,"x2","50"),e(R,"y2","5"),e(R,"stroke","var(--brandPink)"),e(R,"stroke-width","2"),e(V,"height","10"),e(V,"width","50"),le(p,"display","flex"),le(p,"align-items","center"),le(p,"gap","8px"),e(S,"x1","0"),e(S,"y1","5"),e(S,"x2","50"),e(S,"y2","5"),e(S,"stroke","var(--brandMedGreen)"),e(S,"stroke-width","2"),e(j,"height","10"),e(j,"width","50"),le(E,"display","flex"),le(E,"align-items","center"),le(E,"gap","8px"),e(B,"x1","0"),e(B,"y1","5"),e(B,"x2","50"),e(B,"y2","5"),e(B,"stroke","var(--brandRed)"),e(B,"stroke-width","2"),e(L,"height","10"),e(L,"width","50"),le(Z,"display","flex"),le(Z,"align-items","center"),le(Z,"gap","8px"),le(t,"display","flex"),le(t,"align-items","center"),le(t,"gap","20px"),le(t,"padding","10px 0"),le(t,"flex-wrap","wrap")},m(D,M){P(D,t,M),l(t,n),l(n,a),l(a,i),l(n,c),l(n,u),l(n,h),l(t,b),l(t,p),l(p,V),l(V,R),l(p,N),l(p,K),l(t,H),l(t,E),l(E,j),l(j,S),l(E,W),l(E,z),l(t,J),l(t,Z),l(Z,L),l(L,B),l(Z,re),l(Z,C)},p:yt,d(D){D&&s(t)}}}function dn(r){let t,n,a,i,c=r[15][r[41]]+"",o,u,h;function b(){return r[32](r[41])}return{c(){t=m("button"),n=T("svg"),a=T("line"),i=O(),o=v(c),this.h()},l(p){t=w(p,"BUTTON",{class:!0,style:!0});var V=f(t);n=I(V,"svg",{height:!0,width:!0});var R=f(n);a=I(R,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(a).forEach(s),R.forEach(s),i=G(V),o=d(V,c),V.forEach(s),this.h()},h(){e(a,"x1","0"),e(a,"y1","5"),e(a,"x2","30"),e(a,"y2","5"),e(a,"stroke",r[14][r[41]]),e(a,"stroke-width","2"),e(n,"height","10"),e(n,"width","30"),e(t,"class","activity-legend-btn svelte-1v7vl4n"),le(t,"--activity-color",r[14][r[41]]),it(t,"active",r[4].includes(r[41]))},m(p,V){P(p,t,V),l(t,n),l(n,a),l(t,i),l(t,o),u||(h=Pt(t,"click",b),u=!0)},p(p,V){r=p,V[0]&8208&&it(t,"active",r[4].includes(r[41]))},d(p){p&&s(t),u=!1,h()}}}function zn(r){let t,n,a,i=r[1]==="2025vs2023"?`${r[12].year3} vs. ${r[12].year1}`:`${r[12].year3} vs. ${r[12].year2}`,c;return{c(){t=T("text"),n=v("% Change by Visitor"),a=T("text"),c=v(i),this.h()},l(o){t=I(o,"text",{x:!0,y:!0,class:!0});var u=f(t);n=d(u,"% Change by Visitor"),u.forEach(s),a=I(o,"text",{x:!0,y:!0,class:!0});var h=f(a);c=d(h,i),h.forEach(s),this.h()},h(){e(t,"x","235"),e(t,"y","20"),e(t,"class","textLabel svelte-1v7vl4n"),e(a,"x","235"),e(a,"y","38"),e(a,"class","textLabel svelte-1v7vl4n")},m(o,u){P(o,t,u),l(t,n),P(o,a,u),l(a,c)},p(o,u){u[0]&2&&i!==(i=o[1]==="2025vs2023"?`${o[12].year3} vs. ${o[12].year1}`:`${o[12].year3} vs. ${o[12].year2}`)&&$e(c,i)},d(o){o&&s(t),o&&s(a)}}}function Yn(r){let t,n,a,i=r[1]==="2025vs2023"?`${r[12].year3} vs. ${r[12].year1}`:`${r[12].year3} vs. ${r[12].year2}`,c;return{c(){t=T("text"),n=v("% Change in Unique Devices"),a=T("text"),c=v(i),this.h()},l(o){t=I(o,"text",{x:!0,y:!0,class:!0});var u=f(t);n=d(u,"% Change in Unique Devices"),u.forEach(s),a=I(o,"text",{x:!0,y:!0,class:!0});var h=f(a);c=d(h,i),h.forEach(s),this.h()},h(){e(t,"x","235"),e(t,"y","15"),e(t,"class","textLabelSmall svelte-1v7vl4n"),e(a,"x","235"),e(a,"y","38"),e(a,"class","textLabel svelte-1v7vl4n")},m(o,u){P(o,t,u),l(t,n),P(o,a,u),l(a,c)},p(o,u){u[0]&2&&i!==(i=o[1]==="2025vs2023"?`${o[12].year3} vs. ${o[12].year1}`:`${o[12].year3} vs. ${o[12].year2}`)&&$e(c,i)},d(o){o&&s(t),o&&s(a)}}}function _n(r){let t,n,a;return{c(){t=T("line"),n=T("text"),a=v(r[52]),this.h()},l(i){t=I(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(t).forEach(s),n=I(i,"text",{x:!0,y:!0,class:!0});var c=f(n);a=d(c,r[52]),c.forEach(s),this.h()},h(){e(t,"x1",260+r[44]*(oe/3)+r[40]*oe/3/4),e(t,"y1",45),e(t,"x2",260+r[44]*(oe/3)+r[40]*oe/3/4),e(t,"y2",40),e(t,"stroke","white"),e(t,"stroke-width","1"),e(n,"x",260+r[44]*(oe/3)+r[40]*oe/3/4+oe/3/8),e(n,"y","40"),e(n,"class","textMonth svelte-1v7vl4n")},m(i,c){P(i,t,c),P(i,n,c),l(n,a)},p:yt,d(i){i&&s(t),i&&s(n)}}}function Kn(r){let t;return{c(){t=T("line"),this.h()},l(n){t=I(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(t).forEach(s),this.h()},h(){e(t,"x1",260+(r[44]+1)*(oe/3)),e(t,"y1",5),e(t,"x2",260+(r[44]+1)*(oe/3)),e(t,"y2",45),e(t,"stroke","white"),e(t,"stroke-width","2")},m(n,a){P(n,t,a)},p:yt,d(n){n&&s(t)}}}function pn(r){let t,n=2023+r[44]+"",a,i,c=[9,10,11,12],o=[];for(let h=0;h<4;h+=1)o[h]=_n(fn(r,c,h));let u=r[44]<2&&Kn(r);return{c(){for(let h=0;h<4;h+=1)o[h].c();t=T("text"),a=v(n),u&&u.c(),i=Se(),this.h()},l(h){for(let p=0;p<4;p+=1)o[p].l(h);t=I(h,"text",{x:!0,y:!0,class:!0});var b=f(t);a=d(b,n),b.forEach(s),u&&u.l(h),i=Se(),this.h()},h(){e(t,"x",260+r[44]*(oe/3)+oe/6),e(t,"y","20"),e(t,"class","textYear svelte-1v7vl4n")},m(h,b){for(let p=0;p<4;p+=1)o[p]&&o[p].m(h,b);P(h,t,b),l(t,a),u&&u.m(h,b),P(h,i,b)},p(h,b){if(b&0){c=[9,10,11,12];let p;for(p=0;p<4;p+=1){const V=fn(h,c,p);o[p]?o[p].p(V,b):(o[p]=_n(V),o[p].c(),o[p].m(t.parentNode,t))}for(;p<4;p+=1)o[p].d(1)}h[44]<2&&u.p(h,b)},d(h){Tt(o,h),h&&s(t),u&&u.d(h),h&&s(i)}}}function Jn(r){let t,n=r[5],a=[];for(let i=0;i<n.length;i+=1)a[i]=wn(sn(r,n,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();t=Se()},l(i){for(let c=0;c<a.length;c+=1)a[c].l(i);t=Se()},m(i,c){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(i,c);P(i,t,c)},p(i,c){if(c[0]&16499){n=i[5];let o;for(o=0;o<n.length;o+=1){const u=sn(i,n,o);a[o]?a[o].p(u,c):(a[o]=wn(u),a[o].c(),a[o].m(t.parentNode,t))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},d(i){Tt(a,i),i&&s(t)}}}function jn(r){let t,n,a,i;function c(h,b){if(h[2])return ia;if(h[3])return aa}let o=c(r),u=o&&o(r);return{c(){t=m("div"),n=m("div"),a=O(),i=m("p"),u&&u.c(),this.h()},l(h){t=w(h,"DIV",{class:!0});var b=f(t);n=w(b,"DIV",{class:!0}),f(n).forEach(s),a=G(b),i=w(b,"P",{class:!0});var p=f(i);u&&u.l(p),p.forEach(s),b.forEach(s),this.h()},h(){e(n,"class","loading-spinner svelte-1v7vl4n"),e(i,"class","loading-text svelte-1v7vl4n"),e(t,"class","loading-container svelte-1v7vl4n")},m(h,b){P(h,t,b),l(t,n),l(t,a),l(t,i),u&&u.m(i,null)},p(h,b){o!==(o=c(h))&&(u&&u.d(1),u=o&&o(h),u&&(u.c(),u.m(i,null)))},d(h){h&&s(t),u&&u.d()}}}function Xn(r){let t,n;return{c(){t=m("img"),this.h()},l(a){t=w(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){pr(t.src,n=En)||e(t,"src",n),e(t,"alt","Down arrow"),e(t,"class","arrow-icon svelte-1v7vl4n")},m(a,i){P(a,t,i)},p:yt,d(a){a&&s(t)}}}function Qn(r){let t,n;return{c(){t=m("img"),this.h()},l(a){t=w(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){pr(t.src,n=Dn)||e(t,"src",n),e(t,"alt","Up arrow"),e(t,"class","arrow-icon svelte-1v7vl4n")},m(a,i){P(a,t,i)},p:yt,d(a){a&&s(t)}}}function Zn(r){let t;function n(c,o){return c[38].percentageChange2025vs2023>=0?$n:xn}let a=n(r),i=a(r);return{c(){i.c(),t=Se()},l(c){i.l(c),t=Se()},m(c,o){i.m(c,o),P(c,t,o)},p(c,o){a===(a=n(c))&&i?i.p(c,o):(i.d(1),i=a(c),i&&(i.c(),i.m(t.parentNode,t)))},d(c){i.d(c),c&&s(t)}}}function xn(r){let t,n;return{c(){t=m("img"),this.h()},l(a){t=w(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){pr(t.src,n=En)||e(t,"src",n),e(t,"alt","Down arrow"),e(t,"class","arrow-icon svelte-1v7vl4n")},m(a,i){P(a,t,i)},p:yt,d(a){a&&s(t)}}}function $n(r){let t,n;return{c(){t=m("img"),this.h()},l(a){t=w(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){pr(t.src,n=Dn)||e(t,"src",n),e(t,"alt","Up arrow"),e(t,"class","arrow-icon svelte-1v7vl4n")},m(a,i){P(a,t,i)},p:yt,d(a){a&&s(t)}}}function ea(r){let t,n=r[4].length>0?(r[4].reduce(i,0)/r[4].length).toFixed(1)+"%":"N/A",a;function i(...c){return r[33](r[38],...c)}return{c(){t=m("span"),a=v(n),this.h()},l(c){t=w(c,"SPAN",{class:!0});var o=f(t);a=d(o,n),o.forEach(s),this.h()},h(){e(t,"class","percent-main svelte-1v7vl4n")},m(c,o){P(c,t,o),l(t,a)},p(c,o){r=c,o[0]&50&&n!==(n=r[4].length>0?(r[4].reduce(i,0)/r[4].length).toFixed(1)+"%":"N/A")&&$e(a,n)},d(c){c&&s(t)}}}function ta(r){let t,n=(r[1]==="2025vs2023"?r[38].perChange2025Display:r[38].perChange2024Display)+"",a;return{c(){t=m("span"),a=v(n),this.h()},l(i){t=w(i,"SPAN",{class:!0});var c=f(t);a=d(c,n),c.forEach(s),this.h()},h(){e(t,"class","percent-main svelte-1v7vl4n")},m(i,c){P(i,t,c),l(t,a)},p(i,c){c[0]&34&&n!==(n=(i[1]==="2025vs2023"?i[38].perChange2025Display:i[38].perChange2024Display)+"")&&$e(a,n)},d(i){i&&s(t)}}}function yn(r){let t;return{c(){t=T("line"),this.h()},l(n){t=I(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(t).forEach(s),this.h()},h(){e(t,"x1",r[44]*(oe/3)+r[47]*oe/3/4),e(t,"y1",5),e(t,"x2",r[44]*(oe/3)+r[47]*oe/3/4),e(t,"y2",45),e(t,"stroke","#333333"),e(t,"stroke-width","1")},m(n,a){P(n,t,a)},p:yt,d(n){n&&s(t)}}}function ra(r){let t;return{c(){t=T("line"),this.h()},l(n){t=I(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(t).forEach(s),this.h()},h(){e(t,"x1",(r[44]+1)*(oe/3)),e(t,"y1",5),e(t,"x2",(r[44]+1)*(oe/3)),e(t,"y2",45),e(t,"stroke","#555555"),e(t,"stroke-width","2")},m(n,a){P(n,t,a)},p:yt,d(n){n&&s(t)}}}function gn(r){let t,n,a=[1,2,3],i=[];for(let o=0;o<3;o+=1)i[o]=yn(un(r,a,o));let c=r[44]<2&&ra(r);return{c(){for(let o=0;o<3;o+=1)i[o].c();t=Se(),c&&c.c(),n=Se()},l(o){for(let u=0;u<3;u+=1)i[u].l(o);t=Se(),c&&c.l(o),n=Se()},m(o,u){for(let h=0;h<3;h+=1)i[h]&&i[h].m(o,u);P(o,t,u),c&&c.m(o,u),P(o,n,u)},p(o,u){if(u&0){a=[1,2,3];let h;for(h=0;h<3;h+=1){const b=un(o,a,h);i[h]?i[h].p(b,u):(i[h]=yn(b),i[h].c(),i[h].m(t.parentNode,t))}for(;h<3;h+=1)i[h].d(1)}o[44]<2&&c.p(o,u)},d(o){Tt(i,o),o&&s(t),c&&c.d(o),o&&s(n)}}}function la(r){let t,n,a,i,c=r[4],o=[];for(let u=0;u<c.length;u+=1)o[u]=mn(on(r,c,u));return{c(){t=T("line");for(let u=0;u<o.length;u+=1)o[u].c();i=Se(),this.h()},l(u){t=I(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),f(t).forEach(s);for(let h=0;h<o.length;h+=1)o[h].l(u);i=Se(),this.h()},h(){e(t,"x1","0"),e(t,"y1",n=r[38].meanLine),e(t,"x2",oe),e(t,"y2",a=r[38].meanLine),e(t,"stroke","#D0D1C9"),e(t,"stroke-width","1"),e(t,"stroke-dasharray","4")},m(u,h){P(u,t,h);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(u,h);P(u,i,h)},p(u,h){if(h[0]&32&&n!==(n=u[38].meanLine)&&e(t,"y1",n),h[0]&32&&a!==(a=u[38].meanLine)&&e(t,"y2",a),h[0]&16432){c=u[4];let b;for(b=0;b<c.length;b+=1){const p=on(u,c,b);o[b]?o[b].p(p,h):(o[b]=mn(p),o[b].c(),o[b].m(i.parentNode,i))}for(;b<o.length;b+=1)o[b].d(1);o.length=c.length}},d(u){u&&s(t),Tt(o,u),u&&s(i)}}}function na(r){let t,n,a,i,c,o,u,h,b,p,V,R,N,q,K,H,E,j,S,W,ne,z,J,Z,L,B,re;return{c(){t=T("line"),i=T("path"),o=T("path"),h=T("path"),p=T("circle"),N=T("circle"),H=T("circle"),S=T("circle"),z=T("circle"),L=T("circle"),this.h()},l(y){t=I(y,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),f(t).forEach(s),i=I(y,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),f(i).forEach(s),o=I(y,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),f(o).forEach(s),h=I(y,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),f(h).forEach(s),p=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(p).forEach(s),N=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(N).forEach(s),H=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(H).forEach(s),S=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(S).forEach(s),z=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(z).forEach(s),L=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(L).forEach(s),this.h()},h(){e(t,"x1","0"),e(t,"y1",n=r[38].meanLine),e(t,"x2",oe),e(t,"y2",a=r[38].meanLine),e(t,"stroke","#D0D1C9"),e(t,"stroke-width","1"),e(t,"stroke-dasharray","4"),e(i,"d",c=r[38].regressionLine2023),e(i,"stroke","var(--brandPink)"),e(i,"stroke-width","2"),e(i,"fill","none"),e(o,"d",u=r[38].regressionLine2024),e(o,"stroke","var(--brandMedGreen)"),e(o,"stroke-width","2"),e(o,"fill","none"),e(h,"d",b=r[38].regressionLine2025),e(h,"stroke","var(--brandRed)"),e(h,"stroke-width","2"),e(h,"fill","none"),e(p,"cx",V=r[38].startCircle2023.cx),e(p,"cy",R=r[38].startCircle2023.cy),e(p,"r","1"),e(p,"fill","var(--brandPink)"),e(p,"stroke","var(--brandPink)"),e(p,"stroke-width","2"),e(N,"cx",q=r[38].endCircle2023.cx),e(N,"cy",K=r[38].endCircle2023.cy),e(N,"r","1"),e(N,"fill","var(--brandPink)"),e(N,"stroke","var(--brandPink)"),e(N,"stroke-width","2"),e(H,"cx",E=r[38].startCircle2024.cx),e(H,"cy",j=r[38].startCircle2024.cy),e(H,"r","1"),e(H,"fill","var(--brandMedGreen)"),e(H,"stroke","var(--brandMedGreen)"),e(H,"stroke-width","2"),e(S,"cx",W=r[38].endCircle2024.cx),e(S,"cy",ne=r[38].endCircle2024.cy),e(S,"r","1"),e(S,"fill","var(--brandMedGreen)"),e(S,"stroke","var(--brandMedGreen)"),e(S,"stroke-width","2"),e(z,"cx",J=r[38].startCircle2025.cx),e(z,"cy",Z=r[38].startCircle2025.cy),e(z,"r","1"),e(z,"fill","var(--brandRed)"),e(z,"stroke","var(--brandRed)"),e(z,"stroke-width","2"),e(L,"cx",B=r[38].endCircle2025.cx),e(L,"cy",re=r[38].endCircle2025.cy),e(L,"r","1"),e(L,"fill","var(--brandRed)"),e(L,"stroke","var(--brandRed)"),e(L,"stroke-width","2")},m(y,C){P(y,t,C),P(y,i,C),P(y,o,C),P(y,h,C),P(y,p,C),P(y,N,C),P(y,H,C),P(y,S,C),P(y,z,C),P(y,L,C)},p(y,C){C[0]&32&&n!==(n=y[38].meanLine)&&e(t,"y1",n),C[0]&32&&a!==(a=y[38].meanLine)&&e(t,"y2",a),C[0]&32&&c!==(c=y[38].regressionLine2023)&&e(i,"d",c),C[0]&32&&u!==(u=y[38].regressionLine2024)&&e(o,"d",u),C[0]&32&&b!==(b=y[38].regressionLine2025)&&e(h,"d",b),C[0]&32&&V!==(V=y[38].startCircle2023.cx)&&e(p,"cx",V),C[0]&32&&R!==(R=y[38].startCircle2023.cy)&&e(p,"cy",R),C[0]&32&&q!==(q=y[38].endCircle2023.cx)&&e(N,"cx",q),C[0]&32&&K!==(K=y[38].endCircle2023.cy)&&e(N,"cy",K),C[0]&32&&E!==(E=y[38].startCircle2024.cx)&&e(H,"cx",E),C[0]&32&&j!==(j=y[38].startCircle2024.cy)&&e(H,"cy",j),C[0]&32&&W!==(W=y[38].endCircle2024.cx)&&e(S,"cx",W),C[0]&32&&ne!==(ne=y[38].endCircle2024.cy)&&e(S,"cy",ne),C[0]&32&&J!==(J=y[38].startCircle2025.cx)&&e(z,"cx",J),C[0]&32&&Z!==(Z=y[38].startCircle2025.cy)&&e(z,"cy",Z),C[0]&32&&B!==(B=y[38].endCircle2025.cx)&&e(L,"cx",B),C[0]&32&&re!==(re=y[38].endCircle2025.cy)&&e(L,"cy",re)},d(y){y&&s(t),y&&s(i),y&&s(o),y&&s(h),y&&s(p),y&&s(N),y&&s(H),y&&s(S),y&&s(z),y&&s(L)}}}function mn(r){let t,n,a,i,c,o,u,h,b,p,V,R,N,q,K,H,E,j,S,W,ne,z,J,Z,L,B,re,y,C,D,M,k,U,Y,Q,te,fe,ge,Ve;return{c(){t=T("path"),i=T("path"),u=T("path"),p=T("circle"),K=T("circle"),W=T("circle"),L=T("circle"),D=T("circle"),Q=T("circle"),this.h()},l(_){t=I(_,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),f(t).forEach(s),i=I(_,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),f(i).forEach(s),u=I(_,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),f(u).forEach(s),p=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(p).forEach(s),K=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(K).forEach(s),W=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(W).forEach(s),L=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(L).forEach(s),D=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(D).forEach(s),Q=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),f(Q).forEach(s),this.h()},h(){e(t,"d",n=r[38].activityLines[r[41]].line2023),e(t,"stroke",a=r[14][r[41]]),e(t,"stroke-width","2"),e(t,"fill","none"),e(i,"d",c=r[38].activityLines[r[41]].line2024),e(i,"stroke",o=r[14][r[41]]),e(i,"stroke-width","2"),e(i,"fill","none"),e(u,"d",h=r[38].activityLines[r[41]].line2025),e(u,"stroke",b=r[14][r[41]]),e(u,"stroke-width","2"),e(u,"fill","none"),e(p,"cx",V=r[38].activityLines[r[41]].startCircle2023.cx),e(p,"cy",R=r[38].activityLines[r[41]].startCircle2023.cy),e(p,"r","1"),e(p,"fill",N=r[14][r[41]]),e(p,"stroke",q=r[14][r[41]]),e(p,"stroke-width","2"),e(K,"cx",H=r[38].activityLines[r[41]].endCircle2023.cx),e(K,"cy",E=r[38].activityLines[r[41]].endCircle2023.cy),e(K,"r","1"),e(K,"fill",j=r[14][r[41]]),e(K,"stroke",S=r[14][r[41]]),e(K,"stroke-width","2"),e(W,"cx",ne=r[38].activityLines[r[41]].startCircle2024.cx),e(W,"cy",z=r[38].activityLines[r[41]].startCircle2024.cy),e(W,"r","1"),e(W,"fill",J=r[14][r[41]]),e(W,"stroke",Z=r[14][r[41]]),e(W,"stroke-width","2"),e(L,"cx",B=r[38].activityLines[r[41]].endCircle2024.cx),e(L,"cy",re=r[38].activityLines[r[41]].endCircle2024.cy),e(L,"r","1"),e(L,"fill",y=r[14][r[41]]),e(L,"stroke",C=r[14][r[41]]),e(L,"stroke-width","2"),e(D,"cx",M=r[38].activityLines[r[41]].startCircle2025.cx),e(D,"cy",k=r[38].activityLines[r[41]].startCircle2025.cy),e(D,"r","1"),e(D,"fill",U=r[14][r[41]]),e(D,"stroke",Y=r[14][r[41]]),e(D,"stroke-width","2"),e(Q,"cx",te=r[38].activityLines[r[41]].endCircle2025.cx),e(Q,"cy",fe=r[38].activityLines[r[41]].endCircle2025.cy),e(Q,"r","1"),e(Q,"fill",ge=r[14][r[41]]),e(Q,"stroke",Ve=r[14][r[41]]),e(Q,"stroke-width","2")},m(_,g){P(_,t,g),P(_,i,g),P(_,u,g),P(_,p,g),P(_,K,g),P(_,W,g),P(_,L,g),P(_,D,g),P(_,Q,g)},p(_,g){g[0]&48&&n!==(n=_[38].activityLines[_[41]].line2023)&&e(t,"d",n),g[0]&16&&a!==(a=_[14][_[41]])&&e(t,"stroke",a),g[0]&48&&c!==(c=_[38].activityLines[_[41]].line2024)&&e(i,"d",c),g[0]&16&&o!==(o=_[14][_[41]])&&e(i,"stroke",o),g[0]&48&&h!==(h=_[38].activityLines[_[41]].line2025)&&e(u,"d",h),g[0]&16&&b!==(b=_[14][_[41]])&&e(u,"stroke",b),g[0]&48&&V!==(V=_[38].activityLines[_[41]].startCircle2023.cx)&&e(p,"cx",V),g[0]&48&&R!==(R=_[38].activityLines[_[41]].startCircle2023.cy)&&e(p,"cy",R),g[0]&16&&N!==(N=_[14][_[41]])&&e(p,"fill",N),g[0]&16&&q!==(q=_[14][_[41]])&&e(p,"stroke",q),g[0]&48&&H!==(H=_[38].activityLines[_[41]].endCircle2023.cx)&&e(K,"cx",H),g[0]&48&&E!==(E=_[38].activityLines[_[41]].endCircle2023.cy)&&e(K,"cy",E),g[0]&16&&j!==(j=_[14][_[41]])&&e(K,"fill",j),g[0]&16&&S!==(S=_[14][_[41]])&&e(K,"stroke",S),g[0]&48&&ne!==(ne=_[38].activityLines[_[41]].startCircle2024.cx)&&e(W,"cx",ne),g[0]&48&&z!==(z=_[38].activityLines[_[41]].startCircle2024.cy)&&e(W,"cy",z),g[0]&16&&J!==(J=_[14][_[41]])&&e(W,"fill",J),g[0]&16&&Z!==(Z=_[14][_[41]])&&e(W,"stroke",Z),g[0]&48&&B!==(B=_[38].activityLines[_[41]].endCircle2024.cx)&&e(L,"cx",B),g[0]&48&&re!==(re=_[38].activityLines[_[41]].endCircle2024.cy)&&e(L,"cy",re),g[0]&16&&y!==(y=_[14][_[41]])&&e(L,"fill",y),g[0]&16&&C!==(C=_[14][_[41]])&&e(L,"stroke",C),g[0]&48&&M!==(M=_[38].activityLines[_[41]].startCircle2025.cx)&&e(D,"cx",M),g[0]&48&&k!==(k=_[38].activityLines[_[41]].startCircle2025.cy)&&e(D,"cy",k),g[0]&16&&U!==(U=_[14][_[41]])&&e(D,"fill",U),g[0]&16&&Y!==(Y=_[14][_[41]])&&e(D,"stroke",Y),g[0]&48&&te!==(te=_[38].activityLines[_[41]].endCircle2025.cx)&&e(Q,"cx",te),g[0]&48&&fe!==(fe=_[38].activityLines[_[41]].endCircle2025.cy)&&e(Q,"cy",fe),g[0]&16&&ge!==(ge=_[14][_[41]])&&e(Q,"fill",ge),g[0]&16&&Ve!==(Ve=_[14][_[41]])&&e(Q,"stroke",Ve)},d(_){_&&s(t),_&&s(i),_&&s(u),_&&s(p),_&&s(K),_&&s(W),_&&s(L),_&&s(D),_&&s(Q)}}}function wn(r){let t,n,a,i,c,o=r[40]+1+"",u,h,b=r[38].city+"",p,V,R,N,q,K,H,E,j,S,W;function ne(k,U){return k[1]==="2025vs2023"?Zn:k[38].percentageChange2025vs2024>=0?Qn:Xn}let z=ne(r),J=z(r);function Z(k,U){return k[0]==="overall"?ta:ea}let L=Z(r),B=L(r),re=[0,1,2],y=[];for(let k=0;k<3;k+=1)y[k]=gn(cn(r,re,k));function C(k,U){return k[0]==="overall"?na:la}let D=C(r),M=D(r);return{c(){t=m("div"),n=m("div"),a=T("svg"),i=T("line"),c=T("text"),u=v(o),h=v(". "),p=v(b),V=O(),R=m("div"),J.c(),N=O(),q=m("div"),B.c(),K=O(),H=m("div"),E=T("svg");for(let k=0;k<3;k+=1)y[k].c();j=Se(),M.c(),S=O(),this.h()},l(k){t=w(k,"DIV",{class:!0});var U=f(t);n=w(U,"DIV",{class:!0});var Y=f(n);a=I(Y,"svg",{width:!0,height:!0,class:!0});var Q=f(a);i=I(Q,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(i).forEach(s),c=I(Q,"text",{x:!0,y:!0,class:!0});var te=f(c);u=d(te,o),h=d(te,". "),p=d(te,b),te.forEach(s),Q.forEach(s),Y.forEach(s),V=G(U),R=w(U,"DIV",{class:!0});var fe=f(R);J.l(fe),fe.forEach(s),N=G(U),q=w(U,"DIV",{class:!0});var ge=f(q);B.l(ge),ge.forEach(s),K=G(U),H=w(U,"DIV",{class:!0,style:!0});var Ve=f(H);E=I(Ve,"svg",{height:!0,width:!0,class:!0});var _=f(E);for(let g=0;g<3;g+=1)y[g].l(_);j=Se(),M.l(_),_.forEach(s),Ve.forEach(s),S=G(U),U.forEach(s),this.h()},h(){e(i,"x1","5"),e(i,"y1","15"),e(i,"x2","5"),e(i,"y2",jt-45),e(i,"stroke","#fff"),e(i,"stroke-width","5"),e(c,"x","12"),e(c,"y","31"),e(c,"class","textCity svelte-1v7vl4n"),e(a,"width","150"),e(a,"height",jt),e(a,"class","region-bar"),e(n,"class","left svelte-1v7vl4n"),e(R,"class","arrow svelte-1v7vl4n"),e(q,"class","number svelte-1v7vl4n"),e(E,"height",jt),e(E,"width",oe),e(E,"class","chart svelte-1v7vl4n"),e(H,"class","chart-container svelte-1v7vl4n"),le(H,"width",oe),e(t,"class","chart-wrapper svelte-1v7vl4n"),Bn(()=>r[34].call(t))},m(k,U){P(k,t,U),l(t,n),l(n,a),l(a,i),l(a,c),l(c,u),l(c,h),l(c,p),l(t,V),l(t,R),J.m(R,null),l(t,N),l(t,q),B.m(q,null),l(t,K),l(t,H),l(H,E);for(let Y=0;Y<3;Y+=1)y[Y]&&y[Y].m(E,null);l(E,j),M.m(E,null),l(t,S),W=On(t,r[34].bind(t))},p(k,U){if(U[0]&32&&b!==(b=k[38].city+"")&&$e(p,b),z===(z=ne(k))&&J?J.p(k,U):(J.d(1),J=z(k),J&&(J.c(),J.m(R,null))),L===(L=Z(k))&&B?B.p(k,U):(B.d(1),B=L(k),B&&(B.c(),B.m(q,null))),U&0){re=[0,1,2];let Y;for(Y=0;Y<3;Y+=1){const Q=cn(k,re,Y);y[Y]?y[Y].p(Q,U):(y[Y]=gn(Q),y[Y].c(),y[Y].m(E,j))}for(;Y<3;Y+=1)y[Y].d(1)}D===(D=C(k))&&M?M.p(k,U):(M.d(1),M=D(k),M&&(M.c(),M.m(E,null)))},d(k){k&&s(t),J.d(),B.d(),Tt(y,k),M.d(),W()}}}function aa(r){let t;return{c(){t=v("Loading activity data (this may take a moment)...")},l(n){t=d(n,"Loading activity data (this may take a moment)...")},m(n,a){P(n,t,a)},d(n){n&&s(t)}}}function ia(r){let t;return{c(){t=v("Loading overall data...")},l(n){t=d(n,"Loading overall data...")},m(n,a){P(n,t,a)},d(n){n&&s(t)}}}function sa(r){var Al,Vl;let t,n,a,i,c,o,u,h,b,p,V,R,N,q,K,H,E,j,S,W,ne,z=r[12].update_date+"",J,Z,L,B,re,y,C,D,M,k,U=r[12].year3+"",Y,Q,te=r[12].year2+"",fe,ge,Ve=r[12].year1+"",_,g,ce,ae,Ge,ue=r[12].year1+"",Re,ve,Ee=r[12].year1+"",pe,ie,ye,De,me,et,he,We,se,X,ze,Pe,Ne,de,Ye,Le,x,Me,He=(((Al=r[9])==null?void 0:Al.toFixed(1))??"...")+"",Ke,tt,be,we,st,Ue,gt,Ce,mt,It,Xt,ot,Ct=(((Vl=r[7])==null?void 0:Vl.toFixed(1))??"...")+"",St,Qt,Zt,sr=r[12].year1+"",F,xt,Et,Te,$t,ct,er,tr,or=r[12].year3+"",rr,yr,wl=r[12].year2+"",gr,mr,wr,ut,kr,Dt,br,Cr,Rt,Er,Dr,Lr,Je,ht,Ar,kl=r[12].year1+"",Vr,Mr,bl=r[12].year3+"",Pr,Tr,Ir,wt,rt,Nt,Sr,Rr,ft,Nr,Br,vt,Or,Gr,lt,Bt,Hr,Ur,dt,qr,Fr,_t,Wr,zr,Yr,Ot,pt,Gt,Ht,Be,kt,Kr,je,Jr,jr,Ae,Xr,Qr,Zr,xr,lr,$r,el,Oe,tl,Lt,rl,ll,At,nl,al,Vt,il,sl,Mt,ol,cl,ul,hl,fl,vl,Ie,dl,Cl;t=new Gn({});function El(A,$){return A[0]==="overall"?Wn:Fn}let cr=El(r),Xe=cr(r);function Dl(A,$){return A[0]==="overall"?Yn:zn}let ur=Dl(r),Qe=ur(r),_l=[0,1,2],qe=[];for(let A=0;A<3;A+=1)qe[A]=pn(hn(r,_l,A));function Ll(A,$){return A[2]||A[3]?jn:Jn}let hr=Ll(r),Ze=hr(r);return{c(){Mn(t.$$.fragment),n=O(),a=m("main"),i=m("div"),c=m("h1"),o=v("US Downtown Recovery Trends"),u=O(),h=m("p"),b=v("By "),p=m("a"),V=v("Karen Chapple"),R=v(`,\r
       `),N=m("a"),q=v("Yihoi Jung"),K=v(`,\r
      \r
      `),H=m("a"),E=v("Jeff Allen"),j=O(),S=m("p"),W=m("i"),ne=v("Updated "),J=v(z),Z=O(),L=m("p"),B=v(`Data on cell phone activity (a.k.a. footfall) trends for the last two\r
      years can provide a picture of how US downtowns are faring post-pandemic.`),re=O(),y=m("p"),C=v("On this page, we provide an update from "),D=m("a"),M=v("our previous trends analysis (2023-2024)"),k=v(`, specifically looking at\r
      year-over-year trends comparing September to December `),Y=v(U),Q=v(` to the same period in\r
      `),fe=v(te),ge=v(`\r
      and `),_=v(Ve),g=v("."),ce=O(),ae=m("p"),Ge=v(`The solid lines on the charts below represent the number of daily unique stops in the downtown\r
      area, split by the three years for comparison. The dotted lines provide a\r
      baseline of the average level of activity in\r
      `),Re=v(ue),ve=v(`, allowing for comparison to the following years. When\r
      the solid lines extend above the dotted baseline, downtown activity is\r
      greater compared to `),pe=v(Ee),ie=v(` months. When they dip below the dotted\r
      line, activity is on a downswing.`),ye=O(),De=m("p"),me=v(`There are two interactive toggle views at the top, one for view mode\r
      (Overall vs. By Visitor) and one for the percent change comparison. When\r
      "By Visitor" is selected, you can view by trends by those who A) work downtown B) live downtown and C) neither work nor live downtown.`),et=O(),he=m("h5"),We=v("Key findings:"),se=O(),X=m("p"),ze=v("‣ "),Pe=m("span"),Ne=v(r[11]),de=v(` out of\r
      `),Ye=m("span"),Le=v(r[10]),x=v(`\r
      US cities rose in activity in 2025 compared to 2024, with a mean increase of\r
      `),Me=m("span"),Ke=v(He),tt=v("%"),be=v(`.\r
      `),we=m("br"),st=v(`\r
      ‣ Compared to 2023, `),Ue=m("span"),gt=v(r[8]),Ce=v(` out of\r
      `),mt=m("span"),It=v(r[10]),Xt=v(`\r
      cities saw increases, with a mean increase of\r
      `),ot=m("span"),St=v(Ct),Qt=v("%"),Zt=v(`,\r
      indicating that most downtowns are up from their `),F=v(sr),xt=v(`\r
      activity levels.`),Et=O(),Te=m("p"),$t=v("Note 1: Trends are based on a sample of data from "),ct=m("a"),er=v("Cuebiq"),tr=v(`, but use different cell\r
      phone data providers from our previous rankings analysis. The trendlines measure\r
      the average level of activity over the course of the year, while the\r
      ranking metric shows the percent difference in the average number of\r
      unique devices in `),rr=v(or),yr=v(" versus the same set of months in "),gr=v(wl),mr=v("."),wr=O(),ut=m("p"),kr=v("Note 2: Baltimore's data is cut off at 2023 due to "),Dt=m("a"),br=v(`Maryland's data privacy\r
      restrictions`),Cr=v(`, and Portland's data is cut off at mid-December 2025, due to\r
      `),Rt=m("a"),Er=v("Oregon's Consumer Privacy Act"),Dr=v("."),Lr=O(),Je=m("div"),ht=m("h4"),Ar=v("Unique Devices Downtown (September to December from "),Vr=v(kl),Mr=v(" to "),Pr=v(bl),Tr=v(")"),Ir=O(),wt=m("div"),rt=m("div"),Nt=m("span"),Sr=v("View mode:"),Rr=O(),ft=m("button"),Nr=v("Overall"),Br=O(),vt=m("button"),Or=v("By Visitor"),Gr=O(),lt=m("div"),Bt=m("span"),Hr=v("Compare:"),Ur=O(),dt=m("button"),qr=v("2025 vs 2023"),Fr=O(),_t=m("button"),Wr=v("2025 vs 2024"),zr=O(),Xe.c(),Yr=O(),Ot=m("div"),pt=m("div"),Gt=m("div"),Ht=m("div"),Be=T("svg"),kt=T("text"),Kr=v("City"),Qe.c(),je=T("line");for(let A=0;A<3;A+=1)qe[A].c();Jr=O(),Ze.c(),jr=O(),Ae=m("div"),Xr=m("br"),Qr=O(),Zr=m("br"),xr=O(),lr=m("h4"),$r=v("More information"),el=O(),Oe=m("p"),tl=v("The trend lines are fit from daily data via a "),Lt=m("a"),rl=v("LOESS"),ll=v(`\r
      curve. You can download the raw daily data shown to fit these curves\r
      `),At=m("a"),nl=v("from this link for the data by visitor type"),al=v(`\r
      and\r
      `),Vt=m("a"),il=v("from this link for the overall trends data"),sl=v(`. The data on the charts are based on the \`normalized_distinct_clean\`\r
      column, which pertains to the number of unique daily devices normalized\r
      by the total number in the metro area. The trend-line and summary\r
      statistics shown are calculated in JavaScript (code is on\r
      `),Mt=m("a"),ol=v("GitHub"),cl=v(")."),ul=O(),hl=m("br"),fl=O(),vl=m("br"),this.h()},l(A){Pn(t.$$.fragment,A),n=G(A),a=w(A,"MAIN",{});var $=f(a);i=w($,"DIV",{class:!0});var ee=f(i);c=w(ee,"H1",{});var nr=f(c);o=d(nr,"US Downtown Recovery Trends"),nr.forEach(s),u=G(ee),h=w(ee,"P",{});var _e=f(h);b=d(_e,"By "),p=w(_e,"A",{href:!0,target:!0});var ar=f(p);V=d(ar,"Karen Chapple"),ar.forEach(s),R=d(_e,`,\r
       `),N=w(_e,"A",{href:!0,target:!0});var Ml=f(N);q=d(Ml,"Yihoi Jung"),Ml.forEach(s),K=d(_e,`,\r
      \r
      `),H=w(_e,"A",{href:!0,target:!0});var Pl=f(H);E=d(Pl,"Jeff Allen"),Pl.forEach(s),_e.forEach(s),j=G(ee),S=w(ee,"P",{});var Tl=f(S);W=w(Tl,"I",{});var pl=f(W);ne=d(pl,"Updated "),J=d(pl,z),pl.forEach(s),Tl.forEach(s),Z=G(ee),L=w(ee,"P",{});var Il=f(L);B=d(Il,`Data on cell phone activity (a.k.a. footfall) trends for the last two\r
      years can provide a picture of how US downtowns are faring post-pandemic.`),Il.forEach(s),re=G(ee),y=w(ee,"P",{});var nt=f(y);C=d(nt,"On this page, we provide an update from "),D=w(nt,"A",{href:!0});var Sl=f(D);M=d(Sl,"our previous trends analysis (2023-2024)"),Sl.forEach(s),k=d(nt,`, specifically looking at\r
      year-over-year trends comparing September to December `),Y=d(nt,U),Q=d(nt,` to the same period in\r
      `),fe=d(nt,te),ge=d(nt,`\r
      and `),_=d(nt,Ve),g=d(nt,"."),nt.forEach(s),ce=G(ee),ae=w(ee,"P",{});var Ut=f(ae);Ge=d(Ut,`The solid lines on the charts below represent the number of daily unique stops in the downtown\r
      area, split by the three years for comparison. The dotted lines provide a\r
      baseline of the average level of activity in\r
      `),Re=d(Ut,ue),ve=d(Ut,`, allowing for comparison to the following years. When\r
      the solid lines extend above the dotted baseline, downtown activity is\r
      greater compared to `),pe=d(Ut,Ee),ie=d(Ut,` months. When they dip below the dotted\r
      line, activity is on a downswing.`),Ut.forEach(s),ye=G(ee),De=w(ee,"P",{});var Rl=f(De);me=d(Rl,`There are two interactive toggle views at the top, one for view mode\r
      (Overall vs. By Visitor) and one for the percent change comparison. When\r
      "By Visitor" is selected, you can view by trends by those who A) work downtown B) live downtown and C) neither work nor live downtown.`),Rl.forEach(s),et=G(ee),he=w(ee,"H5",{});var Nl=f(he);We=d(Nl,"Key findings:"),Nl.forEach(s),se=G(ee),X=w(ee,"P",{});var ke=f(X);ze=d(ke,"‣ "),Pe=w(ke,"SPAN",{class:!0});var Bl=f(Pe);Ne=d(Bl,r[11]),Bl.forEach(s),de=d(ke,` out of\r
      `),Ye=w(ke,"SPAN",{class:!0});var Ol=f(Ye);Le=d(Ol,r[10]),Ol.forEach(s),x=d(ke,`\r
      US cities rose in activity in 2025 compared to 2024, with a mean increase of\r
      `),Me=w(ke,"SPAN",{class:!0});var yl=f(Me);Ke=d(yl,He),tt=d(yl,"%"),yl.forEach(s),be=d(ke,`.\r
      `),we=w(ke,"BR",{}),st=d(ke,`\r
      ‣ Compared to 2023, `),Ue=w(ke,"SPAN",{class:!0});var Gl=f(Ue);gt=d(Gl,r[8]),Gl.forEach(s),Ce=d(ke,` out of\r
      `),mt=w(ke,"SPAN",{class:!0});var Hl=f(mt);It=d(Hl,r[10]),Hl.forEach(s),Xt=d(ke,`\r
      cities saw increases, with a mean increase of\r
      `),ot=w(ke,"SPAN",{class:!0});var gl=f(ot);St=d(gl,Ct),Qt=d(gl,"%"),gl.forEach(s),Zt=d(ke,`,\r
      indicating that most downtowns are up from their `),F=d(ke,sr),xt=d(ke,`\r
      activity levels.`),ke.forEach(s),Et=G(ee),Te=w(ee,"P",{});var bt=f(Te);$t=d(bt,"Note 1: Trends are based on a sample of data from "),ct=w(bt,"A",{href:!0,target:!0});var Ul=f(ct);er=d(Ul,"Cuebiq"),Ul.forEach(s),tr=d(bt,`, but use different cell\r
      phone data providers from our previous rankings analysis. The trendlines measure\r
      the average level of activity over the course of the year, while the\r
      ranking metric shows the percent difference in the average number of\r
      unique devices in `),rr=d(bt,or),yr=d(bt," versus the same set of months in "),gr=d(bt,wl),mr=d(bt,"."),bt.forEach(s),wr=G(ee),ut=w(ee,"P",{});var qt=f(ut);kr=d(qt,"Note 2: Baltimore's data is cut off at 2023 due to "),Dt=w(qt,"A",{href:!0,target:!0});var ql=f(Dt);br=d(ql,`Maryland's data privacy\r
      restrictions`),ql.forEach(s),Cr=d(qt,`, and Portland's data is cut off at mid-December 2025, due to\r
      `),Rt=w(qt,"A",{href:!0});var Fl=f(Rt);Er=d(Fl,"Oregon's Consumer Privacy Act"),Fl.forEach(s),Dr=d(qt,"."),qt.forEach(s),ee.forEach(s),Lr=G($),Je=w($,"DIV",{class:!0});var Ft=f(Je);ht=w(Ft,"H4",{});var Wt=f(ht);Ar=d(Wt,"Unique Devices Downtown (September to December from "),Vr=d(Wt,kl),Mr=d(Wt," to "),Pr=d(Wt,bl),Tr=d(Wt,")"),Wt.forEach(s),Ir=G(Ft),wt=w(Ft,"DIV",{class:!0});var fr=f(wt);rt=w(fr,"DIV",{class:!0});var zt=f(rt);Nt=w(zt,"SPAN",{class:!0});var Wl=f(Nt);Sr=d(Wl,"View mode:"),Wl.forEach(s),Rr=G(zt),ft=w(zt,"BUTTON",{class:!0});var zl=f(ft);Nr=d(zl,"Overall"),zl.forEach(s),Br=G(zt),vt=w(zt,"BUTTON",{class:!0});var Yl=f(vt);Or=d(Yl,"By Visitor"),Yl.forEach(s),zt.forEach(s),Gr=G(fr),lt=w(fr,"DIV",{class:!0});var Yt=f(lt);Bt=w(Yt,"SPAN",{class:!0});var Kl=f(Bt);Hr=d(Kl,"Compare:"),Kl.forEach(s),Ur=G(Yt),dt=w(Yt,"BUTTON",{class:!0});var Jl=f(dt);qr=d(Jl,"2025 vs 2023"),Jl.forEach(s),Fr=G(Yt),_t=w(Yt,"BUTTON",{class:!0});var jl=f(_t);Wr=d(jl,"2025 vs 2024"),jl.forEach(s),Yt.forEach(s),fr.forEach(s),zr=G(Ft),Xe.l(Ft),Ft.forEach(s),Yr=G($),Ot=w($,"DIV",{class:!0});var Xl=f(Ot);pt=w(Xl,"DIV",{class:!0});var vr=f(pt);Gt=w(vr,"DIV",{class:!0});var Ql=f(Gt);Ht=w(Ql,"DIV",{class:!0});var Zl=f(Ht);Be=I(Zl,"svg",{width:!0,height:!0,class:!0});var ir=f(Be);kt=I(ir,"text",{x:!0,y:!0,class:!0});var xl=f(kt);Kr=d(xl,"City"),xl.forEach(s),Qe.l(ir),je=I(ir,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),f(je).forEach(s);for(let ml=0;ml<3;ml+=1)qe[ml].l(ir);ir.forEach(s),Zl.forEach(s),Ql.forEach(s),Jr=G(vr),Ze.l(vr),vr.forEach(s),Xl.forEach(s),jr=G($),Ae=w($,"DIV",{class:!0});var Fe=f(Ae);Xr=w(Fe,"BR",{}),Qr=G(Fe),Zr=w(Fe,"BR",{}),xr=G(Fe),lr=w(Fe,"H4",{});var $l=f(lr);$r=d($l,"More information"),$l.forEach(s),el=G(Fe),Oe=w(Fe,"P",{});var at=f(Oe);tl=d(at,"The trend lines are fit from daily data via a "),Lt=w(at,"A",{href:!0,target:!0});var en=f(Lt);rl=d(en,"LOESS"),en.forEach(s),ll=d(at,`\r
      curve. You can download the raw daily data shown to fit these curves\r
      `),At=w(at,"A",{href:!0,target:!0});var tn=f(At);nl=d(tn,"from this link for the data by visitor type"),tn.forEach(s),al=d(at,`\r
      and\r
      `),Vt=w(at,"A",{href:!0,target:!0});var rn=f(Vt);il=d(rn,"from this link for the overall trends data"),rn.forEach(s),sl=d(at,`. The data on the charts are based on the \`normalized_distinct_clean\`\r
      column, which pertains to the number of unique daily devices normalized\r
      by the total number in the metro area. The trend-line and summary\r
      statistics shown are calculated in JavaScript (code is on\r
      `),Mt=w(at,"A",{href:!0,target:!0});var ln=f(Mt);ol=d(ln,"GitHub"),ln.forEach(s),cl=d(at,")."),at.forEach(s),ul=G(Fe),hl=w(Fe,"BR",{}),fl=G(Fe),vl=w(Fe,"BR",{}),Fe.forEach(s),$.forEach(s),this.h()},h(){e(p,"href","https://schoolofcities.utoronto.ca/people/karen-chapple/"),e(p,"target","_blank"),e(N,"href","https://www.linkedin.com/in/yihoi-jung-0b95351b5/"),e(N,"target","_blank"),e(H,"href","https://schoolofcities.utoronto.ca/people/jeff-allen/"),e(H,"target","_blank"),e(D,"href","trends"),e(Pe,"class","bold"),e(Ye,"class","bold"),e(Me,"class","bold"),e(Ue,"class","bold"),e(mt,"class","bold"),e(ot,"class","bold"),e(ct,"href","https://cuebiq.com/social-impact/"),e(ct,"target","_blank"),e(Dt,"href","https://mgaleg.maryland.gov/2024RS/Chapters_noln/CH_454_hb0567e.pdf"),e(Dt,"target","_blank"),e(Rt,"href","https://olis.oregonlegislature.gov/liz/2025R1/Measures/Overview/HB2008"),e(i,"class","text svelte-1v7vl4n"),e(Nt,"class","toggle-label svelte-1v7vl4n"),e(ft,"class","toggle-btn svelte-1v7vl4n"),it(ft,"active",r[0]==="overall"),e(vt,"class","toggle-btn svelte-1v7vl4n"),it(vt,"active",r[0]==="breakdown"),e(rt,"class","toggle-group svelte-1v7vl4n"),e(Bt,"class","toggle-label svelte-1v7vl4n"),e(dt,"class","toggle-btn svelte-1v7vl4n"),it(dt,"active",r[1]==="2025vs2023"),e(_t,"class","toggle-btn svelte-1v7vl4n"),it(_t,"active",r[1]==="2025vs2024"),e(lt,"class","toggle-group svelte-1v7vl4n"),e(wt,"class","view-toggle svelte-1v7vl4n"),e(Je,"class","text svelte-1v7vl4n"),e(kt,"x","12"),e(kt,"y","35"),e(kt,"class","textCity svelte-1v7vl4n"),e(je,"x1","260"),e(je,"y1",45),e(je,"x2",260+oe),e(je,"y2",45),e(je,"stroke","white"),e(je,"stroke-width","1"),e(Be,"width","760"),e(Be,"height",jt),e(Be,"class","region-bar"),e(Ht,"class","left svelte-1v7vl4n"),e(Gt,"class","chart-wrapper svelte-1v7vl4n"),e(pt,"class","charts-inner svelte-1v7vl4n"),e(Ot,"class","charts-scroll-container svelte-1v7vl4n"),e(Lt,"href","https://en.wikipedia.org/wiki/Local_regression"),e(Lt,"target","_blank"),e(At,"href","/trend_sep_to_dec_23_24_25_activity_deduped.csv"),e(At,"target","_blank"),e(Vt,"href","/trend_sep_to_dec_agg_only.csv"),e(Vt,"target","_blank"),e(Mt,"href","https://github.com/schoolofcities/downtown-recovery/blob/main/src/routes/charts/us_trends/%2Bpage.svelte"),e(Mt,"target","_blank"),e(Ae,"class","text svelte-1v7vl4n")},m(A,$){Tn(t,A,$),P(A,n,$),P(A,a,$),l(a,i),l(i,c),l(c,o),l(i,u),l(i,h),l(h,b),l(h,p),l(p,V),l(h,R),l(h,N),l(N,q),l(h,K),l(h,H),l(H,E),l(i,j),l(i,S),l(S,W),l(W,ne),l(W,J),l(i,Z),l(i,L),l(L,B),l(i,re),l(i,y),l(y,C),l(y,D),l(D,M),l(y,k),l(y,Y),l(y,Q),l(y,fe),l(y,ge),l(y,_),l(y,g),l(i,ce),l(i,ae),l(ae,Ge),l(ae,Re),l(ae,ve),l(ae,pe),l(ae,ie),l(i,ye),l(i,De),l(De,me),l(i,et),l(i,he),l(he,We),l(i,se),l(i,X),l(X,ze),l(X,Pe),l(Pe,Ne),l(X,de),l(X,Ye),l(Ye,Le),l(X,x),l(X,Me),l(Me,Ke),l(Me,tt),l(X,be),l(X,we),l(X,st),l(X,Ue),l(Ue,gt),l(X,Ce),l(X,mt),l(mt,It),l(X,Xt),l(X,ot),l(ot,St),l(ot,Qt),l(X,Zt),l(X,F),l(X,xt),l(i,Et),l(i,Te),l(Te,$t),l(Te,ct),l(ct,er),l(Te,tr),l(Te,rr),l(Te,yr),l(Te,gr),l(Te,mr),l(i,wr),l(i,ut),l(ut,kr),l(ut,Dt),l(Dt,br),l(ut,Cr),l(ut,Rt),l(Rt,Er),l(ut,Dr),l(a,Lr),l(a,Je),l(Je,ht),l(ht,Ar),l(ht,Vr),l(ht,Mr),l(ht,Pr),l(ht,Tr),l(Je,Ir),l(Je,wt),l(wt,rt),l(rt,Nt),l(Nt,Sr),l(rt,Rr),l(rt,ft),l(ft,Nr),l(rt,Br),l(rt,vt),l(vt,Or),l(wt,Gr),l(wt,lt),l(lt,Bt),l(Bt,Hr),l(lt,Ur),l(lt,dt),l(dt,qr),l(lt,Fr),l(lt,_t),l(_t,Wr),l(Je,zr),Xe.m(Je,null),l(a,Yr),l(a,Ot),l(Ot,pt),l(pt,Gt),l(Gt,Ht),l(Ht,Be),l(Be,kt),l(kt,Kr),Qe.m(Be,null),l(Be,je);for(let ee=0;ee<3;ee+=1)qe[ee]&&qe[ee].m(Be,null);l(pt,Jr),Ze.m(pt,null),l(a,jr),l(a,Ae),l(Ae,Xr),l(Ae,Qr),l(Ae,Zr),l(Ae,xr),l(Ae,lr),l(lr,$r),l(Ae,el),l(Ae,Oe),l(Oe,tl),l(Oe,Lt),l(Lt,rl),l(Oe,ll),l(Oe,At),l(At,nl),l(Oe,al),l(Oe,Vt),l(Vt,il),l(Oe,sl),l(Oe,Mt),l(Mt,ol),l(Oe,cl),l(Ae,ul),l(Ae,hl),l(Ae,fl),l(Ae,vl),Ie=!0,dl||(Cl=[Pt(ft,"click",r[28]),Pt(vt,"click",r[29]),Pt(dt,"click",r[30]),Pt(_t,"click",r[31])],dl=!0)},p(A,$){var ee,nr;if((!Ie||$[0]&2048)&&$e(Ne,A[11]),(!Ie||$[0]&1024)&&$e(Le,A[10]),(!Ie||$[0]&512)&&He!==(He=(((ee=A[9])==null?void 0:ee.toFixed(1))??"...")+"")&&$e(Ke,He),(!Ie||$[0]&256)&&$e(gt,A[8]),(!Ie||$[0]&1024)&&$e(It,A[10]),(!Ie||$[0]&128)&&Ct!==(Ct=(((nr=A[7])==null?void 0:nr.toFixed(1))??"...")+"")&&$e(St,Ct),(!Ie||$[0]&1)&&it(ft,"active",A[0]==="overall"),(!Ie||$[0]&1)&&it(vt,"active",A[0]==="breakdown"),(!Ie||$[0]&2)&&it(dt,"active",A[1]==="2025vs2023"),(!Ie||$[0]&2)&&it(_t,"active",A[1]==="2025vs2024"),cr===(cr=El(A))&&Xe?Xe.p(A,$):(Xe.d(1),Xe=cr(A),Xe&&(Xe.c(),Xe.m(Je,null))),ur===(ur=Dl(A))&&Qe?Qe.p(A,$):(Qe.d(1),Qe=ur(A),Qe&&(Qe.c(),Qe.m(Be,je))),$&0){_l=[0,1,2];let _e;for(_e=0;_e<3;_e+=1){const ar=hn(A,_l,_e);qe[_e]?qe[_e].p(ar,$):(qe[_e]=pn(ar),qe[_e].c(),qe[_e].m(Be,null))}for(;_e<3;_e+=1)qe[_e].d(1)}hr===(hr=Ll(A))&&Ze?Ze.p(A,$):(Ze.d(1),Ze=hr(A),Ze&&(Ze.c(),Ze.m(pt,null)))},i(A){Ie||(In(t.$$.fragment,A),Ie=!0)},o(A){Sn(t.$$.fragment,A),Ie=!1},d(A){Rn(t,A),A&&s(n),A&&s(a),Xe.d(),Qe.d(),Tt(qe,A),Ze.d(),dl=!1,Cn(Cl)}}}let oe=500;const jt=80,kn=5,bn=10;function Jt(r){return parseFloat(r.agg_norm_distinct||0)}function _r(r){return parseFloat(r.normalized_distinct_clean||0)}function oa(r,t,n){let a,i,c,o,u,h,b,p={monthNames:"September to December",monthNumbers:[9,10,11,12],year1:2023,year2:2024,year3:2025,update_date:"2026-01-30"},V="overall",R=!0,N=!1;const q=["WORK","HOME","NEITHER"],K={WORK:"var(--brandLightBlue)",HOME:"var(--brandYellow)",NEITHER:"var(--brandLightGreen)"},H={WORK:"Work",HOME:"Home",NEITHER:"Visitor"};let E=[...q],j="2025vs2023";function S(g){E.includes(g)?n(4,E=E.filter(ce=>ce!==g)):n(4,E=[...E,g])}function W(){n(4,E=[...q])}function ne(){n(4,E=[])}let z=[],J=[];async function Z(){n(2,R=!0),performance.now();try{const ce=await(await fetch("/trend_sep_to_dec_agg_only.csv")).text();n(19,z=an(ce)),n(22,C=[...new Set(z.map(ae=>ae.city))])}catch(g){console.error("Error loading aggregated CSV data:",g)}performance.now()}async function L(){n(3,N=!0),performance.now();try{const ce=await(await fetch("/trend_sep_to_dec_23_24_25_activity_deduped.csv")).text();n(20,J=an(ce))}catch(g){console.error("Error loading activity CSV data:",g)}performance.now(),n(3,N=!1)}Nn(async()=>{performance.now(),n(23,D=Hn.filter(g=>g.region!=="Canada").map(g=>g.city)),await Z(),performance.now()});const B=Un("%m/%d/%Y");let re=[],y=[],C=[],D=[],M,k=null,U=null;const Y=()=>{n(0,V="overall"),n(2,R=!0)},Q=()=>{n(0,V="breakdown"),n(3,N=!0)},te=()=>n(1,j="2025vs2023"),fe=()=>n(1,j="2025vs2024"),ge=g=>S(g),Ve=(g,ce,ae)=>ce+(j==="2025vs2023"?g.activityLines[ae].percentChange2025vs2023:g.activityLines[ae].percentChange2025vs2024);function _(){M=this.clientWidth,n(6,M)}return r.$$.update=()=>{r.$$.dirty[0]&29884417&&n(26,a=(()=>{if(C.length===0||z.length===0)return[];if(k!==null)return n(2,R=!1),k;performance.now();const g=C.map(ce=>{if(D.includes(ce)){const ae=(ve,Ee)=>{const pe=z.filter(ie=>{const ye=new Date(ie.date);return ie.city===ce&&ye>=ve&&ye<=Ee});if(V==="overall"){const ie=new Set;return pe.filter(ye=>ie.has(ye.date)?!1:(ie.add(ye.date),!0))}return pe},Ge=ae(new Date("2023-09-01"),new Date("2023-12-31")),ue=ae(new Date("2024-09-01"),new Date("2024-12-31")),Re=ae(new Date("2025-09-01"),new Date("2025-12-31"));if(Ge.length>0&&ue.length>0&&Re.length>0){const ve=xe(Ge,F=>Jt(F)),Ee=xe(ue,F=>Jt(F)),pe=xe(Re,F=>Jt(F)),ie=(pe-Ee)/Ee*100,ye=(pe-ve)/ve*100,me=dr().x(F=>B(F.date)).y(F=>Jt(F)).bandwidth(.2)(Ge),he=dr().x(F=>B(F.date)).y(F=>Jt(F)).bandwidth(.2)(ue),se=dr().x(F=>B(F.date)).y(F=>Jt(F)).bandwidth(.2)(Re),X=me.map(F=>F[1]),ze=he.map(F=>F[1]),Pe=se.map(F=>F[1]),Ne=[...X,...ze,...Pe],de=Math.min(...Ne),Ye=Math.max(...Ne),x=(Ye-de)*.7,Me=de-x,He=Ye+x,Ke=5,tt=(oe-2*Ke)/3,be=(F,xt)=>{const Et=new Date(F),Te=Et.getMonth(),$t=Et.getDate(),ct=Te-8,er=new Date(Et.getFullYear(),Te+1,0).getDate(),tr=$t/er,or=(ct+tr)/4,rr=xt-2023;return Ke+rr*tt+or*tt},we=nn().domain([Me,He]).range([jt-bn,kn]),st=Kt().x(F=>be(F[0],2023)).y(F=>we(F[1])),Ue=Kt().x(F=>be(F[0],2024)).y(F=>we(F[1])),gt=Kt().x(F=>be(F[0],2025)).y(F=>we(F[1])),Ce=st(me),mt=Ue(he),It=gt(se),Xt={cx:be(me[0][0],2023),cy:we(me[0][1])},ot={cx:be(me[me.length-1][0],2023),cy:we(me[me.length-1][1])},Ct={cx:be(he[0][0],2024),cy:we(he[0][1])},St={cx:be(he[he.length-1][0],2024),cy:we(he[he.length-1][1])},Qt={cx:be(se[0][0],2025),cy:we(se[0][1])},Zt={cx:be(se[se.length-1][0],2025),cy:we(se[se.length-1][1])},sr=we(ve);return{city:ce,regressionLine2023:Ce,regressionLine2024:mt,regressionLine2025:It,startCircle2023:Xt,endCircle2023:ot,startCircle2024:Ct,endCircle2024:St,startCircle2025:Qt,endCircle2025:Zt,meanLine:sr,percentageChange2025vs2024:ie,percentageChange2025vs2023:ye,perChange2025Display:ye.toFixed(2)+"%",perChange2024Display:ie.toFixed(2)+"%"}}}}).filter(ce=>ce!==void 0);return performance.now(),g.length>0&&(n(24,k=g),setTimeout(()=>{n(2,R=!1)},0)),g})()),r.$$.dirty[0]&47185921&&n(27,i=(()=>{if(V!=="breakdown"||C.length===0)return[];if(J.length===0)return L(),[];if(U!==null)return n(3,N=!1),U;performance.now(),performance.now();const g=new Map,ce={2023:{start:new Date("2023-09-01"),end:new Date("2023-12-31")},2024:{start:new Date("2024-09-01"),end:new Date("2024-12-31")},2025:{start:new Date("2025-09-01"),end:new Date("2025-12-31")}};for(const ue of J){const Re=new Date(ue.date);let ve=null;for(const[ye,De]of Object.entries(ce))if(Re>=De.start&&Re<=De.end){ve=ye;break}if(ve===null)continue;const Ee=ue.city,pe=ue.ACTIVITY;g.has(Ee)||g.set(Ee,new Map);const ie=g.get(Ee);ie.has(pe)||ie.set(pe,{2023:[],2024:[],2025:[]}),ie.get(pe)[ve].push(ue)}performance.now();const ae=dr().x(ue=>B(ue.date)).y(ue=>_r(ue)).bandwidth(.2),Ge=C.map(ue=>{if(D.includes(ue)){const Re=g.get(ue);if(!Re)return;const ve={};let Ee=[];for(const pe of q){const ie=Re.get(pe);if(!ie)continue;const ye=ie[2023],De=ie[2024],me=ie[2025];if(ye.length>0&&De.length>0&&me.length>0){const et=xe(ye,de=>_r(de)),he=xe(De,de=>_r(de)),We=xe(me,de=>_r(de)),se=(We-et)/et*100,X=(We-he)/he*100,ze=ae(ye),Pe=ae(De),Ne=ae(me);Ee=[...Ee,...ze.map(de=>de[1]),...Pe.map(de=>de[1]),...Ne.map(de=>de[1])],ve[pe]={avg2023:et,avg2024:he,avg2025:We,percentChange2025vs2023:se,percentChange2025vs2024:X,regression2023:ze,regression2024:Pe,regression2025:Ne}}}if(Object.keys(ve).length===3){const pe=Math.min(...Ee),ie=Math.max(...Ee),De=(ie-pe)*.5,me=pe-De,et=ie+De,he=5,We=(oe-2*he)/3,se=(Le,x)=>{const Me=new Date(Le),He=Me.getMonth(),Ke=Me.getDate(),tt=He-8,be=new Date(Me.getFullYear(),He+1,0).getDate(),we=Ke/be,st=(tt+we)/4,Ue=x-2023;return he+Ue*We+st*We},X=nn().domain([me,et]).range([jt-bn,kn]),ze={};for(const Le of q){const x=ve[Le],Me=Kt().x(Ce=>se(Ce[0],2023)).y(Ce=>X(Ce[1])),He=Kt().x(Ce=>se(Ce[0],2024)).y(Ce=>X(Ce[1])),Ke=Kt().x(Ce=>se(Ce[0],2025)).y(Ce=>X(Ce[1])),tt={cx:se(x.regression2023[0][0],2023),cy:X(x.regression2023[0][1])},be={cx:se(x.regression2023[x.regression2023.length-1][0],2023),cy:X(x.regression2023[x.regression2023.length-1][1])},we={cx:se(x.regression2024[0][0],2024),cy:X(x.regression2024[0][1])},st={cx:se(x.regression2024[x.regression2024.length-1][0],2024),cy:X(x.regression2024[x.regression2024.length-1][1])},Ue={cx:se(x.regression2025[0][0],2025),cy:X(x.regression2025[0][1])},gt={cx:se(x.regression2025[x.regression2025.length-1][0],2025),cy:X(x.regression2025[x.regression2025.length-1][1])};ze[Le]={line2023:Me(x.regression2023),line2024:He(x.regression2024),line2025:Ke(x.regression2025),percentChange2025vs2023:x.percentChange2025vs2023,percentChange2025vs2024:x.percentChange2025vs2024,startCircle2023:tt,endCircle2023:be,startCircle2024:we,endCircle2024:st,startCircle2025:Ue,endCircle2025:gt}}const Pe=xe(q,Le=>ve[Le].percentChange2025vs2023),Ne=xe(q,Le=>ve[Le].percentChange2025vs2024),de=xe(q,Le=>ve[Le].avg2023),Ye=X(de);return{city:ue,activityLines:ze,meanLine:Ye,percentageChange2025vs2023:Pe,percentageChange2025vs2024:Ne,perChange2025Display:Pe.toFixed(1)+"%",perChange2024Display:Ne.toFixed(1)+"%"}}}}).filter(ue=>ue!==void 0);return performance.now(),Ge.length>0&&(n(3,N=!1),n(25,U=Ge)),Ge})()),r.$$.dirty[0]&201326593&&n(21,re=V==="overall"?a:i),r.$$.dirty[0]&2097154&&(performance.now(),n(5,y=re.slice().sort((g,ce)=>{const ae=j==="2025vs2023"?g.percentageChange2025vs2023??0:g.percentageChange2025vs2024??0;return(j==="2025vs2023"?ce.percentageChange2025vs2023??0:ce.percentageChange2025vs2024??0)-ae})),performance.now()),r.$$.dirty[0]&67108864&&n(11,c=a.filter(g=>g.percentageChange2025vs2024>0).length),r.$$.dirty[0]&67108864&&n(10,o=a.length),r.$$.dirty[0]&67108864&&n(9,u=xe(a.map(g=>g.percentageChange2025vs2024))),r.$$.dirty[0]&67108864&&n(8,h=a.filter(g=>g.percentageChange2025vs2023>0).length),r.$$.dirty[0]&67108864&&n(7,b=xe(a.map(g=>g.percentageChange2025vs2023)))},[V,j,R,N,E,y,M,b,h,u,o,c,p,q,K,H,S,W,ne,z,J,re,C,D,k,U,a,i,Y,Q,te,fe,ge,Ve,_]}class ga extends Ln{constructor(t){super(),An(this,t,oa,sa,Vn,{},null,[-1,-1])}}export{ga as component,ya as universal};
