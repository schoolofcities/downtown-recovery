import{S as Da,i as Ca,s as Va,y as xr,a as D,k as p,q as E,K as j,e as K,z as Sr,c as C,l as k,m as c,r as R,h as i,L as M,n as e,p as S,V as ua,A as Pr,b as A,C as a,X as fa,g as Dr,d as Cr,B as Vr,M as et,E as ca,o as Ba,u as vt}from"../chunks/index.5885d984.js";import{H as Wa}from"../chunks/global.e1ff8cb9.js";import{S as da}from"../chunks/SelectRegions.4d7f2f4b.js";import{s as Ha,r as Ia}from"../chunks/stores.01dfc0ed.js";import{c as Na}from"../chunks/csv.3ac754ad.js";const Ta=!0,Xa=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ta},Symbol.toStringTag,{value:"Module"}));function _a(t,r,f){const l=t.slice();return l[14]=r[f],l[16]=f,l}function wa(t,r,f){const l=t.slice();return l[17]=r[f],l[16]=f,l}function va(t,r,f){const l=t.slice();return l[17]=r[f],l[16]=f,l}function ga(t,r,f){const l=t.slice();return l[14]=r[f],l[16]=f,l}function ya(t,r,f){const l=t.slice();return l[17]=r[f],l[16]=f,l}function pa(t,r,f){const l=t.slice();return l[17]=r[f],l[16]=f,l}function ka(t){let r,f,l,s,w,v,n,u=(100*t[17]).toFixed(0)+"",g,m,W;return{c(){r=j("line"),s=j("line"),n=j("text"),g=E(u),m=E("%"),this.h()},l(d){r=M(d,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),c(r).forEach(i),s=M(d,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),c(s).forEach(i),n=M(d,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var y=c(n);g=R(y,u),m=R(y,"%"),y.forEach(i),this.h()},h(){e(r,"class","grid svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(s,"class","grid-white svelte-1gi6jb0"),e(s,"x1",w=29+t[16]*t[4]),e(s,"y1","34"),e(s,"x2",v=29+t[16]*t[4]),e(s,"y2","38"),e(n,"class","axis-label svelte-1gi6jb0"),e(n,"x",W=35+t[16]*t[4]),e(n,"y","30"),e(n,"text-anchor","end")},m(d,y){A(d,r,y),A(d,s,y),A(d,n,y),a(n,g),a(n,m)},p(d,y){y&16&&f!==(f=29+d[16]*d[4])&&e(r,"x1",f),y&16&&l!==(l=29+d[16]*d[4])&&e(r,"x2",l),y&8&&e(r,"y2",d[3]),y&16&&w!==(w=29+d[16]*d[4])&&e(s,"x1",w),y&16&&v!==(v=29+d[16]*d[4])&&e(s,"x2",v),y&4&&u!==(u=(100*d[17]).toFixed(0)+"")&&vt(g,u),y&16&&W!==(W=35+d[16]*d[4])&&e(n,"x",W)},d(d){d&&i(r),d&&i(s),d&&i(n)}}}function ma(t){let r,f,l;return{c(){r=j("line"),this.h()},l(s){r=M(s,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-opacity":!0,"stroke-dasharray":!0}),c(r).forEach(i),this.h()},h(){e(r,"class","grid-white svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(r,"stroke-opacity","0.75"),e(r,"stroke-dasharray","2 2")},m(s,w){A(s,r,w)},p(s,w){w&16&&f!==(f=29+s[16]*s[4])&&e(r,"x1",f),w&16&&l!==(l=29+s[16]*s[4])&&e(r,"x2",l),w&8&&e(r,"y2",s[3])},d(s){s&&i(r)}}}function ba(t){let r,f,l;return{c(){r=j("line"),this.h()},l(s){r=M(s,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-opacity":!0}),c(r).forEach(i),this.h()},h(){e(r,"class","grid-white svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(r,"stroke-opacity","0.5")},m(s,w){A(s,r,w)},p(s,w){w&16&&f!==(f=29+s[16]*s[4])&&e(r,"x1",f),w&16&&l!==(l=29+s[16]*s[4])&&e(r,"x2",l),w&8&&e(r,"y2",s[3])},d(s){s&&i(r)}}}function Ea(t){let r,f,l,s,w,v=t[17]===1&&ma(t),n=t[17]===0&&ba(t);return{c(){r=j("line"),v&&v.c(),s=K(),n&&n.c(),w=K(),this.h()},l(u){r=M(u,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-opacity":!0}),c(r).forEach(i),v&&v.l(u),s=K(),n&&n.l(u),w=K(),this.h()},h(){e(r,"class","grid svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(r,"stroke-opacity","0.91")},m(u,g){A(u,r,g),v&&v.m(u,g),A(u,s,g),n&&n.m(u,g),A(u,w,g)},p(u,g){g&16&&f!==(f=29+u[16]*u[4])&&e(r,"x1",f),g&16&&l!==(l=29+u[16]*u[4])&&e(r,"x2",l),g&8&&e(r,"y2",u[3]),u[17]===1?v?v.p(u,g):(v=ma(u),v.c(),v.m(s.parentNode,s)):v&&(v.d(1),v=null),u[17]===0?n?n.p(u,g):(n=ba(u),n.c(),n.m(w.parentNode,w)):n&&(n.d(1),n=null)},d(u){u&&i(r),v&&v.d(u),u&&i(s),n&&n.d(u),u&&i(w)}}}function Ra(t){let r,f,l,s,w=t[16]+1+"",v,n,u,g,m,W,d,y,x,F,B,V=t[14].display_title+"",I;function re(..._){return t[8](t[14],..._)}return{c(){r=j("line"),l=j("line"),s=j("text"),v=E(w),n=j("line"),m=j("rect"),d=j("use"),x=j("circle"),B=j("text"),I=E(V),this.h()},l(_){r=M(_,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),c(r).forEach(i),l=M(_,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),c(l).forEach(i),s=M(_,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var b=c(s);v=R(b,w),b.forEach(i),n=M(_,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),c(n).forEach(i),m=M(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(m).forEach(i),d=M(_,"use",{href:!0,x:!0,y:!0}),c(d).forEach(i),x=M(_,"circle",{class:!0,cx:!0,cy:!0,r:!0,style:!0}),c(x).forEach(i),B=M(_,"text",{class:!0,x:!0,y:!0,style:!0});var ae=c(B);I=R(ae,V),ae.forEach(i),this.h()},h(){e(r,"class","bar"),e(r,"x1",30),e(r,"y1",52+t[16]*24),e(r,"x2",f=29+(t[1]-50)*t[14].Recovery_Rate_after_working_hours_weekdaynights_wholeweekends/Math.max(...t[2])-1),e(r,"y2",52+t[16]*24),S(r,"stroke","white"),S(r,"stroke-width","16"),S(r,"stroke-opacity","0.08 "),e(l,"class","bar"),e(l,"x1",0),e(l,"y1",52+t[16]*24),e(l,"x2",4),e(l,"y2",52+t[16]*24),S(l,"stroke",t[5].find(re).colour),S(l,"stroke-width","16"),S(l,"stroke-opacity","1"),e(s,"class","axis-label svelte-1gi6jb0"),e(s,"x","8"),e(s,"y",57+t[16]*24),e(s,"text-anchor","start"),e(n,"class","connecting-line"),e(n,"x1",u=29+(t[1]-50)*t[14].Recovery_Rate_Working_Hours/Math.max(...t[2])),e(n,"y1",52+t[16]*24),e(n,"x2",g=29+(t[1]-50)*t[14].Recovery_Rate_after_working_hours_weekdaynights_wholeweekends/Math.max(...t[2])-1),e(n,"y2",52+t[16]*24),S(n,"stroke","#edf0f5"),S(n,"stroke-width","2 "),e(m,"x",W=-5+29+(t[1]-50)*t[14].Recovery_Rate_Working_Hours/Math.max(...t[2])),e(m,"y",-5+52+t[16]*24),e(m,"width","10"),e(m,"height","10"),e(m,"fill",dt),e(m,"stroke","#edf0f5"),e(m,"stroke-width","2"),e(d,"href","#diamond"),e(d,"x",y=29+(t[1]-50)*t[14].Recovery_Rate_after_working_hours_weekdaynights_wholeweekends/Math.max(...t[2])),e(d,"y",52+t[16]*24),e(x,"class","circle-mid"),e(x,"cx",F=29+(t[1]-50)*t[14].Recovery_rate_total/Math.max(...t[2])),e(x,"cy",52+t[16]*24),e(x,"r",wt),S(x,"fill",_t),S(x,"stroke","#4d4d4d"),S(x,"stroke-width","2"),e(B,"class","bar-label svelte-1gi6jb0"),e(B,"x",34),e(B,"y",56+t[16]*24),S(B,"fill","white")},m(_,b){A(_,r,b),A(_,l,b),A(_,s,b),a(s,v),A(_,n,b),A(_,m,b),A(_,d,b),A(_,x,b),A(_,B,b),a(B,I)},p(_,b){t=_,b&7&&f!==(f=29+(t[1]-50)*t[14].Recovery_Rate_after_working_hours_weekdaynights_wholeweekends/Math.max(...t[2])-1)&&e(r,"x2",f),b&1&&S(l,"stroke",t[5].find(re).colour),b&7&&u!==(u=29+(t[1]-50)*t[14].Recovery_Rate_Working_Hours/Math.max(...t[2]))&&e(n,"x1",u),b&7&&g!==(g=29+(t[1]-50)*t[14].Recovery_Rate_after_working_hours_weekdaynights_wholeweekends/Math.max(...t[2])-1)&&e(n,"x2",g),b&7&&W!==(W=-5+29+(t[1]-50)*t[14].Recovery_Rate_Working_Hours/Math.max(...t[2]))&&e(m,"x",W),b&7&&y!==(y=29+(t[1]-50)*t[14].Recovery_Rate_after_working_hours_weekdaynights_wholeweekends/Math.max(...t[2]))&&e(d,"x",y),b&7&&F!==(F=29+(t[1]-50)*t[14].Recovery_rate_total/Math.max(...t[2]))&&e(x,"cx",F),b&1&&V!==(V=t[14].display_title+"")&&vt(I,V)},d(_){_&&i(r),_&&i(l),_&&i(s),_&&i(n),_&&i(m),_&&i(d),_&&i(x),_&&i(B)}}}function ja(t){let r,f,l,s,w,v,n,u=(100*t[17]).toFixed(0)+"",g,m,W;return{c(){r=j("line"),s=j("line"),n=j("text"),g=E(u),m=E("%"),this.h()},l(d){r=M(d,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),c(r).forEach(i),s=M(d,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),c(s).forEach(i),n=M(d,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var y=c(n);g=R(y,u),m=R(y,"%"),y.forEach(i),this.h()},h(){e(r,"class","grid svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(s,"class","grid-white svelte-1gi6jb0"),e(s,"x1",w=29+t[16]*t[4]),e(s,"y1","34"),e(s,"x2",v=29+t[16]*t[4]),e(s,"y2","38"),e(n,"class","axis-label svelte-1gi6jb0"),e(n,"x",W=35+t[16]*t[4]),e(n,"y","30"),e(n,"text-anchor","end")},m(d,y){A(d,r,y),A(d,s,y),A(d,n,y),a(n,g),a(n,m)},p(d,y){y&16&&f!==(f=29+d[16]*d[4])&&e(r,"x1",f),y&16&&l!==(l=29+d[16]*d[4])&&e(r,"x2",l),y&8&&e(r,"y2",d[3]),y&16&&w!==(w=29+d[16]*d[4])&&e(s,"x1",w),y&16&&v!==(v=29+d[16]*d[4])&&e(s,"x2",v),y&4&&u!==(u=(100*d[17]).toFixed(0)+"")&&vt(g,u),y&16&&W!==(W=35+d[16]*d[4])&&e(n,"x",W)},d(d){d&&i(r),d&&i(s),d&&i(n)}}}function Ma(t){let r,f,l;return{c(){r=j("line"),this.h()},l(s){r=M(s,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-opacity":!0,"stroke-dasharray":!0}),c(r).forEach(i),this.h()},h(){e(r,"class","grid-white svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(r,"stroke-opacity","0.75"),e(r,"stroke-dasharray","2 2")},m(s,w){A(s,r,w)},p(s,w){w&16&&f!==(f=29+s[16]*s[4])&&e(r,"x1",f),w&16&&l!==(l=29+s[16]*s[4])&&e(r,"x2",l),w&8&&e(r,"y2",s[3])},d(s){s&&i(r)}}}function Aa(t){let r,f,l;return{c(){r=j("line"),this.h()},l(s){r=M(s,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-opacity":!0}),c(r).forEach(i),this.h()},h(){e(r,"class","grid-white svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(r,"stroke-opacity","0.5")},m(s,w){A(s,r,w)},p(s,w){w&16&&f!==(f=29+s[16]*s[4])&&e(r,"x1",f),w&16&&l!==(l=29+s[16]*s[4])&&e(r,"x2",l),w&8&&e(r,"y2",s[3])},d(s){s&&i(r)}}}function xa(t){let r,f,l,s,w,v=t[17]===1&&Ma(t),n=t[17]===0&&Aa(t);return{c(){r=j("line"),v&&v.c(),s=K(),n&&n.c(),w=K(),this.h()},l(u){r=M(u,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-opacity":!0}),c(r).forEach(i),v&&v.l(u),s=K(),n&&n.l(u),w=K(),this.h()},h(){e(r,"class","grid svelte-1gi6jb0"),e(r,"x1",f=29+t[16]*t[4]),e(r,"y1","34"),e(r,"x2",l=29+t[16]*t[4]),e(r,"y2",t[3]),e(r,"stroke-opacity","0.91")},m(u,g){A(u,r,g),v&&v.m(u,g),A(u,s,g),n&&n.m(u,g),A(u,w,g)},p(u,g){g&16&&f!==(f=29+u[16]*u[4])&&e(r,"x1",f),g&16&&l!==(l=29+u[16]*u[4])&&e(r,"x2",l),g&8&&e(r,"y2",u[3]),u[17]===1?v?v.p(u,g):(v=Ma(u),v.c(),v.m(s.parentNode,s)):v&&(v.d(1),v=null),u[17]===0?n?n.p(u,g):(n=Aa(u),n.c(),n.m(w.parentNode,w)):n&&(n.d(1),n=null)},d(u){u&&i(r),v&&v.d(u),u&&i(s),n&&n.d(u),u&&i(w)}}}function Sa(t){let r,f,l,s,w=t[16]+1+"",v,n,u,g,m,W,d,y,x,F,B,V=t[14].display_title+"",I;function re(..._){return t[10](t[14],..._)}return{c(){r=j("line"),l=j("line"),s=j("text"),v=E(w),n=j("line"),m=j("rect"),d=j("use"),x=j("circle"),B=j("text"),I=E(V),this.h()},l(_){r=M(_,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),c(r).forEach(i),l=M(_,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),c(l).forEach(i),s=M(_,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var b=c(s);v=R(b,w),b.forEach(i),n=M(_,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),c(n).forEach(i),m=M(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(m).forEach(i),d=M(_,"use",{href:!0,x:!0,y:!0}),c(d).forEach(i),x=M(_,"circle",{class:!0,cx:!0,cy:!0,r:!0,style:!0}),c(x).forEach(i),B=M(_,"text",{class:!0,x:!0,y:!0,style:!0});var ae=c(B);I=R(ae,V),ae.forEach(i),this.h()},h(){e(r,"class","bar"),e(r,"x1",30),e(r,"y1",52+t[16]*24),e(r,"x2",f=29+(t[1]-50)*t[14].Recovery_Rate_weekends/Math.max(...t[2])-1),e(r,"y2",52+t[16]*24),S(r,"stroke","white"),S(r,"stroke-width","16"),S(r,"stroke-opacity","0.08 "),e(l,"class","bar"),e(l,"x1",0),e(l,"y1",52+t[16]*24),e(l,"x2",4),e(l,"y2",52+t[16]*24),S(l,"stroke",t[5].find(re).colour),S(l,"stroke-width","16"),S(l,"stroke-opacity","1"),e(s,"class","axis-label svelte-1gi6jb0"),e(s,"x","8"),e(s,"y",57+t[16]*24),e(s,"text-anchor","start"),e(n,"class","connecting-line"),e(n,"x1",u=29+(t[1]-50)*t[14].Recovery_Rate_weekdays/Math.max(...t[2])),e(n,"y1",52+t[16]*24),e(n,"x2",g=29+(t[1]-50)*t[14].Recovery_Rate_weekends/Math.max(...t[2])-1),e(n,"y2",52+t[16]*24),S(n,"stroke","#edf0f5"),S(n,"stroke-width","2 "),e(m,"x",W=-5+29+(t[1]-50)*t[14].Recovery_Rate_weekdays/Math.max(...t[2])),e(m,"y",-5+52+t[16]*24),e(m,"width","10"),e(m,"height","10"),e(m,"fill",dt),e(m,"stroke","#edf0f5"),e(m,"stroke-width","2"),e(d,"href","#diamond"),e(d,"x",y=29+(t[1]-50)*t[14].Recovery_Rate_weekends/Math.max(...t[2])),e(d,"y",52+t[16]*24),e(x,"class","circle-mid"),e(x,"cx",F=29+(t[1]-50)*t[14].Recovery_rate_total/Math.max(...t[2])),e(x,"cy",52+t[16]*24),e(x,"r",wt),S(x,"fill",_t),S(x,"stroke","#4d4d4d"),S(x,"stroke-width","2"),e(B,"class","bar-label svelte-1gi6jb0"),e(B,"x",34),e(B,"y",56+t[16]*24),S(B,"fill","white")},m(_,b){A(_,r,b),A(_,l,b),A(_,s,b),a(s,v),A(_,n,b),A(_,m,b),A(_,d,b),A(_,x,b),A(_,B,b),a(B,I)},p(_,b){t=_,b&7&&f!==(f=29+(t[1]-50)*t[14].Recovery_Rate_weekends/Math.max(...t[2])-1)&&e(r,"x2",f),b&1&&S(l,"stroke",t[5].find(re).colour),b&7&&u!==(u=29+(t[1]-50)*t[14].Recovery_Rate_weekdays/Math.max(...t[2]))&&e(n,"x1",u),b&7&&g!==(g=29+(t[1]-50)*t[14].Recovery_Rate_weekends/Math.max(...t[2])-1)&&e(n,"x2",g),b&7&&W!==(W=-5+29+(t[1]-50)*t[14].Recovery_Rate_weekdays/Math.max(...t[2]))&&e(m,"x",W),b&7&&y!==(y=29+(t[1]-50)*t[14].Recovery_Rate_weekends/Math.max(...t[2]))&&e(d,"x",y),b&7&&F!==(F=29+(t[1]-50)*t[14].Recovery_rate_total/Math.max(...t[2]))&&e(x,"cx",F),b&1&&V!==(V=t[14].display_title+"")&&vt(I,V)},d(_){_&&i(r),_&&i(l),_&&i(s),_&&i(n),_&&i(m),_&&i(d),_&&i(x),_&&i(B)}}}function Fa(t){let r,f,l,s,w,v,n,u,g,m,W,d,y,x,F,B,V,I,re,_,b,ae,gt,yt,se,ee,tt,pt,kt,X,Re,ce,mt,bt,Et,je,le,Rt,jt,Mt,Me,ge,At,xt,Ie,St,Pt,Ae,xe,Dt,N,ve,ye,ot,lt,Br,Ct,Q,pe,Vt,Ne,Bt,Wt,Ht,Te,It,Fe,Nt,Oe,Tt,Ft,Se,Ot,Lt,Le,zt,$t,oe,te,rt,Jt,qt,Y,Pe,de,Ut,Kt,Xt,De,ie,Yt,Gt,Qt,Ce,ke,Zt,er,ze,tr,rr,Ve,Be,ar,O,it,nt,Wr,sr,Z,$e,or,lr,at,ir,nr,ne,hr,ur,fr,cr,dr,_r,wr,st,vr,gr,G,yr,Je,pr,kr,qe,mr,br,Er,Rr,jr,Mr,Ar,me;r=new Wa({}),xe=new da({props:{europe:"no",canada:"yes"}});let Ue=t[2],L=[];for(let h=0;h<Ue.length;h+=1)L[h]=ka(pa(t,Ue,h));let Ke=t[2],z=[];for(let h=0;h<Ke.length;h+=1)z[h]=Ea(ya(t,Ke,h));let Xe=t[0],$=[];for(let h=0;h<Xe.length;h+=1)$[h]=Ra(ga(t,Xe,h));Be=new da({props:{europe:"no"}});let Ye=t[2],J=[];for(let h=0;h<Ye.length;h+=1)J[h]=ja(va(t,Ye,h));let Ge=t[2],q=[];for(let h=0;h<Ge.length;h+=1)q[h]=xa(wa(t,Ge,h));let Qe=t[0],U=[];for(let h=0;h<Qe.length;h+=1)U[h]=Sa(_a(t,Qe,h));return{c(){xr(r.$$.fragment),f=D(),l=p("main"),s=p("div"),w=p("h3"),v=E("Attracting activity to North American downtowns: Understanding downtown recovery across the course of a week"),n=D(),u=p("p"),g=p("a"),m=E("Amir Forouhar"),W=E(", "),d=p("a"),y=E("Karen Chapple"),x=E(", & "),F=p("a"),B=E("Jeff Allen"),V=E(" | March, 2024"),I=D(),re=p("p"),_=E("As downtowns adjust to a new normal of hybrid and remote work, many seek to recover by attracting different types of activity. When downtowns serve as hubs for entertainment, food, retail, and tourism, they can attract visitors and shoppers around the clock. In this analysis, we show how cities recover during working hours (8 AM to 6 PM, Monday to Friday) compared to after-work hours (weeknights 6 PM to 8 AM and the entire weekend), as well as weekdays versus weekends. This provides invaluable insights into how cities can best bring back their downtowns."),b=D(),ae=p("p"),gt=E("During working hours, downtown areas typically function as commercial and financial hubs. Our findings shared below reveal that all North American downtowns have exhibited a greater decrease in activity levels during working hours, reflecting a trend towards remote work and flexible schedules."),yt=D(),se=p("div"),ee=p("div"),tt=p("h2"),pt=E("Downtown Recovery: Working Hours vs. After-Work Hours"),kt=D(),X=p("p"),Re=j("svg"),ce=j("circle"),mt=E(`\r
				Overall downtown recovery rate\r
				`),bt=p("br"),Et=D(),je=j("svg"),le=j("rect"),Rt=E(`\r
				Recovery rate during typical working hours (8am-6pm, Monday to Friday)\r
				`),jt=p("br"),Mt=D(),Me=j("svg"),ge=j("polygon"),At=E(`\r
				Recovery rate outside of working hours`),xt=D(),Ie=p("p"),St=E("Select Regions:"),Pt=D(),Ae=p("div"),xr(xe.$$.fragment),Dt=D(),N=j("svg"),ve=j("polygon"),ye=j("polygon");for(let h=0;h<L.length;h+=1)L[h].c();ot=K();for(let h=0;h<z.length;h+=1)z[h].c();lt=K();for(let h=0;h<$.length;h+=1)$[h].c();Ct=D(),Q=p("div"),pe=p("p"),Vt=E("Our "),Ne=p("a"),Bt=E("previous research"),Wt=E(" has found that the downtowns that house sectors like education, health care, entertainment, accommodations, and manufacturing, where workers are on-site every day, tend to recover fastest, while those with longer commute times and higher densities fare the worst. Not surprisingly, then, looking just at working hours, Las Vegas (specializing in entertainment) and Bakersfield (health care and administrative support) top the list of downtowns (at 97% and 90%, respectively), while Minneapolis and Seattle, with long commutes and a disproportionate share of jobs in tech and management, are at the bottom (44% and 47%, respectively)."),Ht=D(),Te=p("p"),It=E(`But after work-hour activity is surging in many downtowns. Almost a third of downtowns have more activity on weeknights and weekends than they did before the Covid-19 pandemic. Almost all of these downtowns are in the warmer regions of the U.S. (the Southwest, Pacific, or Southeast), suggesting that pleasant weather helps attract visitors and shoppers downtown. \r
		`),Fe=p("p"),Nt=E(`Notably, many large downtowns struggling to bring back activity during the workweek are booming after hours. San Francisco, Chicago, Detroit, Minneapolis, Houston, and Dallas all experience after-hour activity at least 35% higher than during the workweek. \r
		`),Oe=p("p"),Tt=E("Interestingly, a few cities, including Las Vegas, Raleigh, New Orleans, and Wichita, see little difference between workweek and after-hour activity. This may be because they consistently attract one type of activity throughout the week (e.g., gambling in Las Vegas), or because their economy is balanced between workers and visitors."),Ft=D(),Se=p("p"),Ot=E("- - -"),Lt=D(),Le=p("p"),zt=E("The question remains whether downtowns are attracting new visitors and shoppers, or simply benefitting from the workers who stay downtown after hours, or even just downtown residents. To examine this, we also analyzed weekend activity. Weekends may be a particular draw because they offer special festivals, events, recreation, brunch and dining, and cultural attractions."),$t=D(),oe=p("div"),te=p("div"),rt=p("h2"),Jt=E("Weekends versus weekdays"),qt=D(),Y=p("p"),Pe=j("svg"),de=j("circle"),Ut=E(`\r
				Overall downtown recovery rate\r
				`),Kt=p("br"),Xt=D(),De=j("svg"),ie=j("rect"),Yt=E(`\r
				Recovery rate on weekdays\r
				`),Gt=p("br"),Qt=D(),Ce=j("svg"),ke=j("polygon"),Zt=E(`\r
				Recovery rate on weekends`),er=D(),ze=p("p"),tr=E("Select Regions:"),rr=D(),Ve=p("div"),xr(Be.$$.fragment),ar=D(),O=j("svg");for(let h=0;h<J.length;h+=1)J[h].c();it=K();for(let h=0;h<q.length;h+=1)q[h].c();nt=K();for(let h=0;h<U.length;h+=1)U[h].c();sr=D(),Z=p("div"),$e=p("p"),or=E("The downtowns with high levels of activity on weekends are generally similar to those that flourish after work hours. But a couple exceptions stand out. Jacksonville, Tulsa, and Las Vegas all experience activity levels 13% higher on weekends than after hours generally, suggesting that they may have special weekend events that bring visitors from out of town. On the other end of the spectrum, San Jose and Phoenix see higher activity throughout the after-hour period than on weekends in particular."),lr=D(),at=p("h2"),ir=E("Attracting Activity to Downtowns"),nr=D(),ne=p("p"),hr=E(`These patterns suggest a clear path forward for North America’s downtowns. Of course, not all downtowns can benefit from balmy weather as Tucson and Charlotte have. But we can learn from the experience of the big cities experiencing lively weekends and weeknights despite low recovery during the workweek. Even if remote and hybrid work in high-skill economic sectors is keeping half of their workforce at home during the week, the downtowns in San Francisco, Chicago, and Minneapolis benefit from their mixture of uses (particularly restaurants, bars, and entertainment venues), transit accessibility, and ongoing event programming. Cities like Louisville and St. Louis that are struggling to attract visitors and shoppers, in addition to workers, will most likely experience a longer road to recovery.\r
			`),ur=p("br"),fr=D(),cr=p("br"),dr=D(),_r=p("br"),wr=D(),st=p("h2"),vr=E("Data & Methods"),gr=D(),G=p("p"),yr=E("Check out our "),Je=p("a"),pr=E("methodology"),kr=E(" page for a descritpion on how we measure downtown recovery. For the data on this page, we followed the same process, but filtered the data just for the time periods noted in the charts. You can download the data displayed on these chartes "),qe=p("a"),mr=E("here"),br=E(`.\r
			`),Er=p("br"),Rr=D(),jr=p("br"),Mr=D(),Ar=p("br"),this.h()},l(h){Sr(r.$$.fragment,h),f=C(h),l=k(h,"MAIN",{});var P=c(l);s=k(P,"DIV",{class:!0});var o=c(s);w=k(o,"H3",{});var T=c(w);v=R(T,"Attracting activity to North American downtowns: Understanding downtown recovery across the course of a week"),T.forEach(i),n=C(o),u=k(o,"P",{class:!0});var We=c(u);g=k(We,"A",{href:!0});var Hr=c(g);m=R(Hr,"Amir Forouhar"),Hr.forEach(i),W=R(We,", "),d=k(We,"A",{href:!0});var Ir=c(d);y=R(Ir,"Karen Chapple"),Ir.forEach(i),x=R(We,", & "),F=k(We,"A",{href:!0});var Nr=c(F);B=R(Nr,"Jeff Allen"),Nr.forEach(i),V=R(We," | March, 2024"),We.forEach(i),I=C(o),re=k(o,"P",{class:!0});var Tr=c(re);_=R(Tr,"As downtowns adjust to a new normal of hybrid and remote work, many seek to recover by attracting different types of activity. When downtowns serve as hubs for entertainment, food, retail, and tourism, they can attract visitors and shoppers around the clock. In this analysis, we show how cities recover during working hours (8 AM to 6 PM, Monday to Friday) compared to after-work hours (weeknights 6 PM to 8 AM and the entire weekend), as well as weekdays versus weekends. This provides invaluable insights into how cities can best bring back their downtowns."),Tr.forEach(i),b=C(o),ae=k(o,"P",{class:!0});var Fr=c(ae);gt=R(Fr,"During working hours, downtown areas typically function as commercial and financial hubs. Our findings shared below reveal that all North American downtowns have exhibited a greater decrease in activity levels during working hours, reflecting a trend towards remote work and flexible schedules."),Fr.forEach(i),o.forEach(i),yt=C(P),se=k(P,"DIV",{id:!0,class:!0});var ht=c(se);ee=k(ht,"DIV",{id:!0,class:!0});var be=c(ee);tt=k(be,"H2",{});var Or=c(tt);pt=R(Or,"Downtown Recovery: Working Hours vs. After-Work Hours"),Or.forEach(i),kt=C(be),X=k(be,"P",{class:!0});var he=c(X);Re=M(he,"svg",{height:!0,width:!0});var Lr=c(Re);ce=M(Lr,"circle",{cx:!0,cy:!0,r:!0,style:!0}),c(ce).forEach(i),Lr.forEach(i),mt=R(he,`\r
				Overall downtown recovery rate\r
				`),bt=k(he,"BR",{}),Et=C(he),je=M(he,"svg",{height:!0,width:!0});var zr=c(je);le=M(zr,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(le).forEach(i),zr.forEach(i),Rt=R(he,`\r
				Recovery rate during typical working hours (8am-6pm, Monday to Friday)\r
				`),jt=k(he,"BR",{}),Mt=C(he),Me=M(he,"svg",{height:!0,width:!0});var $r=c(Me);ge=M($r,"polygon",{points:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(ge).forEach(i),$r.forEach(i),At=R(he,`\r
				Recovery rate outside of working hours`),he.forEach(i),xt=C(be),Ie=k(be,"P",{class:!0});var Jr=c(Ie);St=R(Jr,"Select Regions:"),Jr.forEach(i),Pt=C(be),Ae=k(be,"DIV",{id:!0,class:!0});var qr=c(Ae);Sr(xe.$$.fragment,qr),qr.forEach(i),be.forEach(i),Dt=C(ht),N=M(ht,"svg",{height:!0,width:!0,id:!0,class:!0});var Ze=c(N);ve=M(Ze,"polygon",{id:!0,points:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(ve).forEach(i),ye=M(Ze,"polygon",{points:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(ye).forEach(i);for(let H=0;H<L.length;H+=1)L[H].l(Ze);ot=K();for(let H=0;H<z.length;H+=1)z[H].l(Ze);lt=K();for(let H=0;H<$.length;H+=1)$[H].l(Ze);Ze.forEach(i),ht.forEach(i),Ct=C(P),Q=k(P,"DIV",{class:!0});var _e=c(Q);pe=k(_e,"P",{class:!0});var ut=c(pe);Vt=R(ut,"Our "),Ne=k(ut,"A",{href:!0});var Ur=c(Ne);Bt=R(Ur,"previous research"),Ur.forEach(i),Wt=R(ut," has found that the downtowns that house sectors like education, health care, entertainment, accommodations, and manufacturing, where workers are on-site every day, tend to recover fastest, while those with longer commute times and higher densities fare the worst. Not surprisingly, then, looking just at working hours, Las Vegas (specializing in entertainment) and Bakersfield (health care and administrative support) top the list of downtowns (at 97% and 90%, respectively), while Minneapolis and Seattle, with long commutes and a disproportionate share of jobs in tech and management, are at the bottom (44% and 47%, respectively)."),ut.forEach(i),Ht=C(_e),Te=k(_e,"P",{class:!0});var Kr=c(Te);It=R(Kr,`But after work-hour activity is surging in many downtowns. Almost a third of downtowns have more activity on weeknights and weekends than they did before the Covid-19 pandemic. Almost all of these downtowns are in the warmer regions of the U.S. (the Southwest, Pacific, or Southeast), suggesting that pleasant weather helps attract visitors and shoppers downtown. \r
		`),Kr.forEach(i),Fe=k(_e,"P",{class:!0});var Xr=c(Fe);Nt=R(Xr,`Notably, many large downtowns struggling to bring back activity during the workweek are booming after hours. San Francisco, Chicago, Detroit, Minneapolis, Houston, and Dallas all experience after-hour activity at least 35% higher than during the workweek. \r
		`),Xr.forEach(i),Oe=k(_e,"P",{class:!0});var Yr=c(Oe);Tt=R(Yr,"Interestingly, a few cities, including Las Vegas, Raleigh, New Orleans, and Wichita, see little difference between workweek and after-hour activity. This may be because they consistently attract one type of activity throughout the week (e.g., gambling in Las Vegas), or because their economy is balanced between workers and visitors."),Yr.forEach(i),Ft=C(_e),Se=k(_e,"P",{style:!0,class:!0});var Gr=c(Se);Ot=R(Gr,"- - -"),Gr.forEach(i),Lt=C(_e),Le=k(_e,"P",{class:!0});var Qr=c(Le);zt=R(Qr,"The question remains whether downtowns are attracting new visitors and shoppers, or simply benefitting from the workers who stay downtown after hours, or even just downtown residents. To examine this, we also analyzed weekend activity. Weekends may be a particular draw because they offer special festivals, events, recreation, brunch and dining, and cultural attractions."),Qr.forEach(i),_e.forEach(i),$t=C(P),oe=k(P,"DIV",{id:!0,class:!0});var ft=c(oe);te=k(ft,"DIV",{id:!0,class:!0});var Ee=c(te);rt=k(Ee,"H2",{});var Zr=c(rt);Jt=R(Zr,"Weekends versus weekdays"),Zr.forEach(i),qt=C(Ee),Y=k(Ee,"P",{class:!0});var ue=c(Y);Pe=M(ue,"svg",{height:!0,width:!0});var ea=c(Pe);de=M(ea,"circle",{cx:!0,cy:!0,r:!0,style:!0}),c(de).forEach(i),ea.forEach(i),Ut=R(ue,`\r
				Overall downtown recovery rate\r
				`),Kt=k(ue,"BR",{}),Xt=C(ue),De=M(ue,"svg",{height:!0,width:!0});var ta=c(De);ie=M(ta,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(ie).forEach(i),ta.forEach(i),Yt=R(ue,`\r
				Recovery rate on weekdays\r
				`),Gt=k(ue,"BR",{}),Qt=C(ue),Ce=M(ue,"svg",{height:!0,width:!0});var ra=c(Ce);ke=M(ra,"polygon",{points:!0,fill:!0,stroke:!0,"stroke-width":!0}),c(ke).forEach(i),ra.forEach(i),Zt=R(ue,`\r
				Recovery rate on weekends`),ue.forEach(i),er=C(Ee),ze=k(Ee,"P",{class:!0});var aa=c(ze);tr=R(aa,"Select Regions:"),aa.forEach(i),rr=C(Ee),Ve=k(Ee,"DIV",{id:!0,class:!0});var sa=c(Ve);Sr(Be.$$.fragment,sa),sa.forEach(i),Ee.forEach(i),ar=C(ft),O=M(ft,"svg",{height:!0,width:!0,id:!0,class:!0});var ct=c(O);for(let H=0;H<J.length;H+=1)J[H].l(ct);it=K();for(let H=0;H<q.length;H+=1)q[H].l(ct);nt=K();for(let H=0;H<U.length;H+=1)U[H].l(ct);ct.forEach(i),ft.forEach(i),sr=C(P),Z=k(P,"DIV",{class:!0});var we=c(Z);$e=k(we,"P",{class:!0});var oa=c($e);or=R(oa,"The downtowns with high levels of activity on weekends are generally similar to those that flourish after work hours. But a couple exceptions stand out. Jacksonville, Tulsa, and Las Vegas all experience activity levels 13% higher on weekends than after hours generally, suggesting that they may have special weekend events that bring visitors from out of town. On the other end of the spectrum, San Jose and Phoenix see higher activity throughout the after-hour period than on weekends in particular."),oa.forEach(i),lr=C(we),at=k(we,"H2",{});var la=c(at);ir=R(la,"Attracting Activity to Downtowns"),la.forEach(i),nr=C(we),ne=k(we,"P",{class:!0});var He=c(ne);hr=R(He,`These patterns suggest a clear path forward for North America’s downtowns. Of course, not all downtowns can benefit from balmy weather as Tucson and Charlotte have. But we can learn from the experience of the big cities experiencing lively weekends and weeknights despite low recovery during the workweek. Even if remote and hybrid work in high-skill economic sectors is keeping half of their workforce at home during the week, the downtowns in San Francisco, Chicago, and Minneapolis benefit from their mixture of uses (particularly restaurants, bars, and entertainment venues), transit accessibility, and ongoing event programming. Cities like Louisville and St. Louis that are struggling to attract visitors and shoppers, in addition to workers, will most likely experience a longer road to recovery.\r
			`),ur=k(He,"BR",{}),fr=C(He),cr=k(He,"BR",{}),dr=C(He),_r=k(He,"BR",{}),He.forEach(i),wr=C(we),st=k(we,"H2",{});var ia=c(st);vr=R(ia,"Data & Methods"),ia.forEach(i),gr=C(we),G=k(we,"P",{class:!0});var fe=c(G);yr=R(fe,"Check out our "),Je=k(fe,"A",{href:!0});var na=c(Je);pr=R(na,"methodology"),na.forEach(i),kr=R(fe," page for a descritpion on how we measure downtown recovery. For the data on this page, we followed the same process, but filtered the data just for the time periods noted in the charts. You can download the data displayed on these chartes "),qe=k(fe,"A",{href:!0});var ha=c(qe);mr=R(ha,"here"),ha.forEach(i),br=R(fe,`.\r
			`),Er=k(fe,"BR",{}),Rr=C(fe),jr=k(fe,"BR",{}),Mr=C(fe),Ar=k(fe,"BR",{}),fe.forEach(i),we.forEach(i),P.forEach(i),this.h()},h(){e(g,"href","https://www.linkedin.com/in/amir-forouhar"),e(d,"href","https://schoolofcities.utoronto.ca/people/karen-chapple/"),e(F,"href","https://jamaps.github.io/"),e(u,"class","svelte-1gi6jb0"),e(re,"class","svelte-1gi6jb0"),e(ae,"class","svelte-1gi6jb0"),e(s,"class","text svelte-1gi6jb0"),e(ce,"cx","9"),e(ce,"cy","9"),e(ce,"r",wt),S(ce,"fill",_t),S(ce,"stroke","#4d4d4d"),S(ce,"stroke-width","2"),e(Re,"height","16"),e(Re,"width","16"),e(le,"x","4"),e(le,"y","5"),e(le,"width","10"),e(le,"height","10"),e(le,"fill",dt),e(le,"stroke","#edf0f5"),e(le,"stroke-width","2"),e(je,"height","16"),e(je,"width","16"),e(ge,"points","9,3 15,9 9,15 3,9"),e(ge,"fill",Pa),e(ge,"stroke","white"),e(ge,"stroke-width","2"),e(Me,"height","16"),e(Me,"width","16"),e(X,"class","svelte-1gi6jb0"),e(Ie,"class","svelte-1gi6jb0"),e(Ae,"id","options-region"),e(Ae,"class","svelte-1gi6jb0"),e(ee,"id","options"),e(ee,"class","svelte-1gi6jb0"),e(ve,"id","diamond"),e(ve,"points","0,-6 6,0 0,6 -6,0"),e(ve,"fill","black"),e(ve,"stroke","white"),e(ve,"stroke-width","2"),e(ye,"points","0,-6 6,0 0,6 -6,0"),e(ye,"fill",Pa),e(ye,"stroke","#191919"),e(ye,"stroke-width","4"),e(N,"height",t[3]),e(N,"width",t[1]),e(N,"id","chart"),e(N,"class","svelte-1gi6jb0"),e(se,"id","chart-wrapper"),e(se,"class","svelte-1gi6jb0"),ua(()=>t[9].call(se)),e(Ne,"href","../charts/correlations"),e(pe,"class","svelte-1gi6jb0"),e(Te,"class","svelte-1gi6jb0"),e(Fe,"class","svelte-1gi6jb0"),e(Oe,"class","svelte-1gi6jb0"),S(Se,"text-align","center"),e(Se,"class","svelte-1gi6jb0"),e(Le,"class","svelte-1gi6jb0"),e(Q,"class","text svelte-1gi6jb0"),e(de,"cx","9"),e(de,"cy","9"),e(de,"r",wt),S(de,"fill",_t),S(de,"stroke","#4d4d4d"),S(de,"stroke-width","2"),e(Pe,"height","16"),e(Pe,"width","16"),e(ie,"x","4"),e(ie,"y","5"),e(ie,"width","10"),e(ie,"height","10"),e(ie,"fill",dt),e(ie,"stroke","#edf0f5"),e(ie,"stroke-width","2"),e(De,"height","16"),e(De,"width","16"),e(ke,"points","9,3 15,9 9,15 3,9"),e(ke,"fill","black"),e(ke,"stroke","white"),e(ke,"stroke-width","2"),e(Ce,"height","16"),e(Ce,"width","16"),e(Y,"class","svelte-1gi6jb0"),e(ze,"class","svelte-1gi6jb0"),e(Ve,"id","options-region"),e(Ve,"class","svelte-1gi6jb0"),e(te,"id","options"),e(te,"class","svelte-1gi6jb0"),e(O,"height",t[3]),e(O,"width",t[1]),e(O,"id","chart"),e(O,"class","svelte-1gi6jb0"),e(oe,"id","chart-wrapper"),e(oe,"class","svelte-1gi6jb0"),ua(()=>t[11].call(oe)),e($e,"class","svelte-1gi6jb0"),e(ne,"class","svelte-1gi6jb0"),e(Je,"href","../methodology"),e(qe,"href","../time_of_week_rankings.csv"),e(G,"class","svelte-1gi6jb0"),e(Z,"class","text svelte-1gi6jb0")},m(h,P){Pr(r,h,P),A(h,f,P),A(h,l,P),a(l,s),a(s,w),a(w,v),a(s,n),a(s,u),a(u,g),a(g,m),a(u,W),a(u,d),a(d,y),a(u,x),a(u,F),a(F,B),a(u,V),a(s,I),a(s,re),a(re,_),a(s,b),a(s,ae),a(ae,gt),a(l,yt),a(l,se),a(se,ee),a(ee,tt),a(tt,pt),a(ee,kt),a(ee,X),a(X,Re),a(Re,ce),a(X,mt),a(X,bt),a(X,Et),a(X,je),a(je,le),a(X,Rt),a(X,jt),a(X,Mt),a(X,Me),a(Me,ge),a(X,At),a(ee,xt),a(ee,Ie),a(Ie,St),a(ee,Pt),a(ee,Ae),Pr(xe,Ae,null),a(se,Dt),a(se,N),a(N,ve),a(N,ye);for(let o=0;o<L.length;o+=1)L[o]&&L[o].m(N,null);a(N,ot);for(let o=0;o<z.length;o+=1)z[o]&&z[o].m(N,null);a(N,lt);for(let o=0;o<$.length;o+=1)$[o]&&$[o].m(N,null);Br=fa(se,t[9].bind(se)),a(l,Ct),a(l,Q),a(Q,pe),a(pe,Vt),a(pe,Ne),a(Ne,Bt),a(pe,Wt),a(Q,Ht),a(Q,Te),a(Te,It),a(Q,Fe),a(Fe,Nt),a(Q,Oe),a(Oe,Tt),a(Q,Ft),a(Q,Se),a(Se,Ot),a(Q,Lt),a(Q,Le),a(Le,zt),a(l,$t),a(l,oe),a(oe,te),a(te,rt),a(rt,Jt),a(te,qt),a(te,Y),a(Y,Pe),a(Pe,de),a(Y,Ut),a(Y,Kt),a(Y,Xt),a(Y,De),a(De,ie),a(Y,Yt),a(Y,Gt),a(Y,Qt),a(Y,Ce),a(Ce,ke),a(Y,Zt),a(te,er),a(te,ze),a(ze,tr),a(te,rr),a(te,Ve),Pr(Be,Ve,null),a(oe,ar),a(oe,O);for(let o=0;o<J.length;o+=1)J[o]&&J[o].m(O,null);a(O,it);for(let o=0;o<q.length;o+=1)q[o]&&q[o].m(O,null);a(O,nt);for(let o=0;o<U.length;o+=1)U[o]&&U[o].m(O,null);Wr=fa(oe,t[11].bind(oe)),a(l,sr),a(l,Z),a(Z,$e),a($e,or),a(Z,lr),a(Z,at),a(at,ir),a(Z,nr),a(Z,ne),a(ne,hr),a(ne,ur),a(ne,fr),a(ne,cr),a(ne,dr),a(ne,_r),a(Z,wr),a(Z,st),a(st,vr),a(Z,gr),a(Z,G),a(G,yr),a(G,Je),a(Je,pr),a(G,kr),a(G,qe),a(qe,mr),a(G,br),a(G,Er),a(G,Rr),a(G,jr),a(G,Mr),a(G,Ar),me=!0},p(h,[P]){if(P&28){Ue=h[2];let o;for(o=0;o<Ue.length;o+=1){const T=pa(h,Ue,o);L[o]?L[o].p(T,P):(L[o]=ka(T),L[o].c(),L[o].m(N,ot))}for(;o<L.length;o+=1)L[o].d(1);L.length=Ue.length}if(P&28){Ke=h[2];let o;for(o=0;o<Ke.length;o+=1){const T=ya(h,Ke,o);z[o]?z[o].p(T,P):(z[o]=Ea(T),z[o].c(),z[o].m(N,lt))}for(;o<z.length;o+=1)z[o].d(1);z.length=Ke.length}if(P&39){Xe=h[0];let o;for(o=0;o<Xe.length;o+=1){const T=ga(h,Xe,o);$[o]?$[o].p(T,P):($[o]=Ra(T),$[o].c(),$[o].m(N,null))}for(;o<$.length;o+=1)$[o].d(1);$.length=Xe.length}if((!me||P&8)&&e(N,"height",h[3]),(!me||P&2)&&e(N,"width",h[1]),P&28){Ye=h[2];let o;for(o=0;o<Ye.length;o+=1){const T=va(h,Ye,o);J[o]?J[o].p(T,P):(J[o]=ja(T),J[o].c(),J[o].m(O,it))}for(;o<J.length;o+=1)J[o].d(1);J.length=Ye.length}if(P&28){Ge=h[2];let o;for(o=0;o<Ge.length;o+=1){const T=wa(h,Ge,o);q[o]?q[o].p(T,P):(q[o]=xa(T),q[o].c(),q[o].m(O,nt))}for(;o<q.length;o+=1)q[o].d(1);q.length=Ge.length}if(P&39){Qe=h[0];let o;for(o=0;o<Qe.length;o+=1){const T=_a(h,Qe,o);U[o]?U[o].p(T,P):(U[o]=Sa(T),U[o].c(),U[o].m(O,null))}for(;o<U.length;o+=1)U[o].d(1);U.length=Qe.length}(!me||P&8)&&e(O,"height",h[3]),(!me||P&2)&&e(O,"width",h[1])},i(h){me||(Dr(r.$$.fragment,h),Dr(xe.$$.fragment,h),Dr(Be.$$.fragment,h),me=!0)},o(h){Cr(r.$$.fragment,h),Cr(xe.$$.fragment,h),Cr(Be.$$.fragment,h),me=!1},d(h){Vr(r,h),h&&i(f),h&&i(l),Vr(xe),et(L,h),et(z,h),et($,h),Br(),Vr(Be),et(J,h),et(q,h),et(U,h),Wr()}}}let dt="#999999",Pa="#191919",_t="#ffffff",wt=6,Oa=1.5;function La(t,r){let f=[];for(let l=0;l<=Math.ceil(t/r);l++)f.push(l*r);return f}function za(t,r,f){let l,s,w;ca(t,Ha,V=>f(7,s=V)),ca(t,Ia,V=>f(12,w=V));let v=[],n=[];const u=w;async function g(){try{const I=await(await fetch("/time_of_week_rankings.csv")).text();f(6,v=Na(I))}catch(V){console.error("Error loading CSV data:",V)}}Ba(()=>{g(),console.log(v)});let m,W=100,d=[];const y=(V,I)=>I.name===V.region;function x(){m=this.offsetWidth,f(1,m)}const F=(V,I)=>I.name===V.region;function B(){m=this.offsetWidth,f(1,m)}return t.$$.update=()=>{t.$$.dirty&192&&f(0,n=v.filter(V=>s.includes(V.region)).sort((V,I)=>I.Recovery_rate_total-V.Recovery_rate_total)),t.$$.dirty&1&&f(3,W=24*n.length+50),t.$$.dirty&6&&f(4,l=(m-50)/(d.length-1))},f(2,d=La(Oa,.2)),[n,m,d,W,l,u,v,s,y,x,F,B]}class Ya extends Da{constructor(r){super(),Ca(this,r,za,Fa,Va,{})}}export{Ya as component,Xa as universal};
