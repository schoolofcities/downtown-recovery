import{S as En,i as Dn,s as Ln,y as Vn,a as H,k as g,q as v,K as M,z as An,c as U,l as m,m as h,r as d,h as a,L as I,n as e,_ as at,A as Pn,b as S,C as l,N as At,u as xe,g as Tn,d as Mn,B as In,M as Pt,P as bn,o as Rn,e as We,p as ie,D as Tt,V as Sn,X as Nn,J as Cn}from"../chunks/index.5885d984.js";import{H as Bn}from"../chunks/global.4dde8b47.js";import"../chunks/transform.4d2927c0.js";import{m as Ze,l as _r,d as On,u as Gn}from"../chunks/red-arrow.6fc67973.js";import{c as Hn}from"../chunks/stores.01dfc0ed.js";import{l as ln}from"../chunks/linear.6154f0ba.js";import{c as nn}from"../chunks/csv.3ac754ad.js";import{t as Un,l as Kt}from"../chunks/line.277d9777.js";const qn=!0,di=Object.freeze(Object.defineProperty({__proto__:null,prerender:qn},Symbol.toStringTag,{value:"Module"}));function sn(r,t,n){const s=r.slice();return s[39]=t[n],s[41]=n,s}function an(r,t,n){const s=r.slice();return s[42]=t[n],s}function on(r,t,n){const s=r.slice();return s[45]=t[n],s}function cn(r,t,n){const s=r.slice();return s[48]=t[n],s}function un(r,t,n){const s=r.slice();return s[45]=t[n],s}function hn(r,t,n){const s=r.slice();return s[53]=t[n],s[41]=n,s}function fn(r,t,n){const s=r.slice();return s[42]=t[n],s}function Fn(r){let t,n,s,i,f,o=r[12].year1+"",c,u,k,p,L,O,B,Z,W,j,b,G,N,K,se,X,ee,z,A,Q,x,y=r[13],w=[];for(let E=0;E<y.length;E+=1)w[E]=vn(fn(r,y,E));return{c(){t=g("div"),n=g("div"),s=M("svg"),i=M("line"),f=H(),c=v(o),u=v(" average"),k=H();for(let E=0;E<w.length;E+=1)w[E].c();p=H(),L=g("button"),O=v("All"),B=H(),Z=g("button"),W=v("Clear"),j=H(),b=g("h2"),G=v(`Work = residents who work downtown\r
          `),N=g("br"),K=v(`\r
          Home = residents who live downtown\r
          `),se=g("br"),X=v(`\r
          Visitor = residents who neither work nor live downtown\r
          `),ee=g("br"),z=g("br"),A=v(`\r
          Note: Resident percentages do not add up to the overall percentage as\r
          all resident types are weighted equally.`),this.h()},l(E){t=m(E,"DIV",{style:!0});var q=h(t);n=m(q,"DIV",{style:!0});var D=h(n);s=I(D,"svg",{height:!0,width:!0});var C=h(s);i=I(C,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),h(i).forEach(a),C.forEach(a),f=U(D),c=d(D,o),u=d(D," average"),D.forEach(a),k=U(q);for(let ue=0;ue<w.length;ue+=1)w[ue].l(q);p=U(q),L=m(q,"BUTTON",{class:!0});var F=h(L);O=d(F,"All"),F.forEach(a),B=U(q),Z=m(q,"BUTTON",{class:!0});var R=h(Z);W=d(R,"Clear"),R.forEach(a),j=U(q),b=m(q,"H2",{class:!0});var te=h(b);G=d(te,`Work = residents who work downtown\r
          `),N=m(te,"BR",{}),K=d(te,`\r
          Home = residents who live downtown\r
          `),se=m(te,"BR",{}),X=d(te,`\r
          Visitor = residents who neither work nor live downtown\r
          `),ee=m(te,"BR",{}),z=m(te,"BR",{}),A=d(te,`\r
          Note: Resident percentages do not add up to the overall percentage as\r
          all resident types are weighted equally.`),te.forEach(a),q.forEach(a),this.h()},h(){e(i,"x1","0"),e(i,"y1","5"),e(i,"x2","50"),e(i,"y2","5"),e(i,"stroke","white"),e(i,"stroke-width","1"),e(i,"stroke-dasharray","3"),e(s,"height","10"),e(s,"width","50"),ie(n,"display","flex"),ie(n,"align-items","center"),ie(n,"gap","8px"),e(L,"class","filter-btn svelte-1v7vl4n"),e(Z,"class","filter-btn svelte-1v7vl4n"),e(b,"class","textLabelTiny svelte-1v7vl4n"),ie(t,"display","flex"),ie(t,"align-items","center"),ie(t,"gap","10px"),ie(t,"padding","10px 0"),ie(t,"flex-wrap","wrap")},m(E,q){S(E,t,q),l(t,n),l(n,s),l(s,i),l(n,f),l(n,c),l(n,u),l(t,k);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(t,null);l(t,p),l(t,L),l(L,O),l(t,B),l(t,Z),l(Z,W),l(t,j),l(t,b),l(b,G),l(b,N),l(b,K),l(b,se),l(b,X),l(b,ee),l(b,z),l(b,A),Q||(x=[At(L,"click",r[17]),At(Z,"click",r[18])],Q=!0)},p(E,q){if(q[0]&122882){y=E[13];let D;for(D=0;D<y.length;D+=1){const C=fn(E,y,D);w[D]?w[D].p(C,q):(w[D]=vn(C),w[D].c(),w[D].m(t,p))}for(;D<w.length;D+=1)w[D].d(1);w.length=y.length}},d(E){E&&a(t),Pt(w,E),Q=!1,bn(x)}}}function Wn(r){let t,n,s,i,f,o=r[12].year1+"",c,u,k,p,L,O,B,Z=r[12].year1+"",W,j,b,G,N,K,se=r[12].year2+"",X,ee,z,A,Q,x,y=r[12].year3+"",w;return{c(){t=g("div"),n=g("div"),s=M("svg"),i=M("line"),f=H(),c=v(o),u=v(" average"),k=H(),p=g("div"),L=M("svg"),O=M("line"),B=H(),W=v(Z),j=H(),b=g("div"),G=M("svg"),N=M("line"),K=H(),X=v(se),ee=H(),z=g("div"),A=M("svg"),Q=M("line"),x=H(),w=v(y),this.h()},l(E){t=m(E,"DIV",{style:!0});var q=h(t);n=m(q,"DIV",{style:!0});var D=h(n);s=I(D,"svg",{height:!0,width:!0});var C=h(s);i=I(C,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),h(i).forEach(a),C.forEach(a),f=U(D),c=d(D,o),u=d(D," average"),D.forEach(a),k=U(q),p=m(q,"DIV",{style:!0});var F=h(p);L=I(F,"svg",{height:!0,width:!0});var R=h(L);O=I(R,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(O).forEach(a),R.forEach(a),B=U(F),W=d(F,Z),F.forEach(a),j=U(q),b=m(q,"DIV",{style:!0});var te=h(b);G=I(te,"svg",{height:!0,width:!0});var ue=h(G);N=I(ue,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(N).forEach(a),ue.forEach(a),K=U(te),X=d(te,se),te.forEach(a),ee=U(q),z=m(q,"DIV",{style:!0});var me=h(z);A=I(me,"svg",{height:!0,width:!0});var Ve=h(A);Q=I(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(Q).forEach(a),Ve.forEach(a),x=U(me),w=d(me,y),me.forEach(a),q.forEach(a),this.h()},h(){e(i,"x1","0"),e(i,"y1","5"),e(i,"x2","50"),e(i,"y2","5"),e(i,"stroke","white"),e(i,"stroke-width","1"),e(i,"stroke-dasharray","3"),e(s,"height","10"),e(s,"width","50"),ie(n,"display","flex"),ie(n,"align-items","center"),ie(n,"gap","8px"),e(O,"x1","0"),e(O,"y1","5"),e(O,"x2","50"),e(O,"y2","5"),e(O,"stroke","var(--brandPink)"),e(O,"stroke-width","2"),e(L,"height","10"),e(L,"width","50"),ie(p,"display","flex"),ie(p,"align-items","center"),ie(p,"gap","8px"),e(N,"x1","0"),e(N,"y1","5"),e(N,"x2","50"),e(N,"y2","5"),e(N,"stroke","var(--brandMedGreen)"),e(N,"stroke-width","2"),e(G,"height","10"),e(G,"width","50"),ie(b,"display","flex"),ie(b,"align-items","center"),ie(b,"gap","8px"),e(Q,"x1","0"),e(Q,"y1","5"),e(Q,"x2","50"),e(Q,"y2","5"),e(Q,"stroke","var(--brandRed)"),e(Q,"stroke-width","2"),e(A,"height","10"),e(A,"width","50"),ie(z,"display","flex"),ie(z,"align-items","center"),ie(z,"gap","8px"),ie(t,"display","flex"),ie(t,"align-items","center"),ie(t,"gap","20px"),ie(t,"padding","10px 0"),ie(t,"flex-wrap","wrap")},m(E,q){S(E,t,q),l(t,n),l(n,s),l(s,i),l(n,f),l(n,c),l(n,u),l(t,k),l(t,p),l(p,L),l(L,O),l(p,B),l(p,W),l(t,j),l(t,b),l(b,G),l(G,N),l(b,K),l(b,X),l(t,ee),l(t,z),l(z,A),l(A,Q),l(z,x),l(z,w)},p:Tt,d(E){E&&a(t)}}}function vn(r){let t,n,s,i,f=r[15][r[42]]+"",o,c,u;function k(){return r[33](r[42])}return{c(){t=g("button"),n=M("svg"),s=M("line"),i=H(),o=v(f),this.h()},l(p){t=m(p,"BUTTON",{class:!0,style:!0});var L=h(t);n=I(L,"svg",{height:!0,width:!0});var O=h(n);s=I(O,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(s).forEach(a),O.forEach(a),i=U(L),o=d(L,f),L.forEach(a),this.h()},h(){e(s,"x1","0"),e(s,"y1","5"),e(s,"x2","30"),e(s,"y2","5"),e(s,"stroke",r[14][r[42]]),e(s,"stroke-width","2"),e(n,"height","10"),e(n,"width","30"),e(t,"class","activity-legend-btn svelte-1v7vl4n"),ie(t,"--activity-color",r[14][r[42]]),at(t,"active",r[1].includes(r[42]))},m(p,L){S(p,t,L),l(t,n),l(n,s),l(t,i),l(t,o),c||(u=At(t,"click",k),c=!0)},p(p,L){r=p,L[0]&8194&&at(t,"active",r[1].includes(r[42]))},d(p){p&&a(t),c=!1,u()}}}function zn(r){let t,n,s,i=r[2]==="2025vs2023"?`${r[12].year3} vs. ${r[12].year1}`:`${r[12].year3} vs. ${r[12].year2}`,f;return{c(){t=M("text"),n=v("% Change by Visitor"),s=M("text"),f=v(i),this.h()},l(o){t=I(o,"text",{x:!0,y:!0,class:!0});var c=h(t);n=d(c,"% Change by Visitor"),c.forEach(a),s=I(o,"text",{x:!0,y:!0,class:!0});var u=h(s);f=d(u,i),u.forEach(a),this.h()},h(){e(t,"x","235"),e(t,"y","20"),e(t,"class","textLabel svelte-1v7vl4n"),e(s,"x","235"),e(s,"y","38"),e(s,"class","textLabel svelte-1v7vl4n")},m(o,c){S(o,t,c),l(t,n),S(o,s,c),l(s,f)},p(o,c){c[0]&4&&i!==(i=o[2]==="2025vs2023"?`${o[12].year3} vs. ${o[12].year1}`:`${o[12].year3} vs. ${o[12].year2}`)&&xe(f,i)},d(o){o&&a(t),o&&a(s)}}}function Yn(r){let t,n,s,i=r[2]==="2025vs2023"?`${r[12].year3} vs. ${r[12].year1}`:`${r[12].year3} vs. ${r[12].year2}`,f;return{c(){t=M("text"),n=v("% Change in Unique Devices"),s=M("text"),f=v(i),this.h()},l(o){t=I(o,"text",{x:!0,y:!0,class:!0});var c=h(t);n=d(c,"% Change in Unique Devices"),c.forEach(a),s=I(o,"text",{x:!0,y:!0,class:!0});var u=h(s);f=d(u,i),u.forEach(a),this.h()},h(){e(t,"x","235"),e(t,"y","15"),e(t,"class","textLabelSmall svelte-1v7vl4n"),e(s,"x","235"),e(s,"y","38"),e(s,"class","textLabel svelte-1v7vl4n")},m(o,c){S(o,t,c),l(t,n),S(o,s,c),l(s,f)},p(o,c){c[0]&4&&i!==(i=o[2]==="2025vs2023"?`${o[12].year3} vs. ${o[12].year1}`:`${o[12].year3} vs. ${o[12].year2}`)&&xe(f,i)},d(o){o&&a(t),o&&a(s)}}}function dn(r){let t,n,s;return{c(){t=M("line"),n=M("text"),s=v(r[53]),this.h()},l(i){t=I(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(t).forEach(a),n=I(i,"text",{x:!0,y:!0,class:!0});var f=h(n);s=d(f,r[53]),f.forEach(a),this.h()},h(){e(t,"x1",260+r[45]*(oe/3)+r[41]*oe/3/4),e(t,"y1",45),e(t,"x2",260+r[45]*(oe/3)+r[41]*oe/3/4),e(t,"y2",40),e(t,"stroke","white"),e(t,"stroke-width","1"),e(n,"x",260+r[45]*(oe/3)+r[41]*oe/3/4+oe/3/8),e(n,"y","40"),e(n,"class","textMonth svelte-1v7vl4n")},m(i,f){S(i,t,f),S(i,n,f),l(n,s)},p:Tt,d(i){i&&a(t),i&&a(n)}}}function Kn(r){let t;return{c(){t=M("line"),this.h()},l(n){t=I(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(t).forEach(a),this.h()},h(){e(t,"x1",260+(r[45]+1)*(oe/3)),e(t,"y1",5),e(t,"x2",260+(r[45]+1)*(oe/3)),e(t,"y2",45),e(t,"stroke","white"),e(t,"stroke-width","2")},m(n,s){S(n,t,s)},p:Tt,d(n){n&&a(t)}}}function _n(r){let t,n=2023+r[45]+"",s,i,f=[9,10,11,12],o=[];for(let u=0;u<4;u+=1)o[u]=dn(hn(r,f,u));let c=r[45]<2&&Kn(r);return{c(){for(let u=0;u<4;u+=1)o[u].c();t=M("text"),s=v(n),c&&c.c(),i=We(),this.h()},l(u){for(let p=0;p<4;p+=1)o[p].l(u);t=I(u,"text",{x:!0,y:!0,class:!0});var k=h(t);s=d(k,n),k.forEach(a),c&&c.l(u),i=We(),this.h()},h(){e(t,"x",260+r[45]*(oe/3)+oe/6),e(t,"y","20"),e(t,"class","textYear svelte-1v7vl4n")},m(u,k){for(let p=0;p<4;p+=1)o[p]&&o[p].m(u,k);S(u,t,k),l(t,s),c&&c.m(u,k),S(u,i,k)},p(u,k){if(k&0){f=[9,10,11,12];let p;for(p=0;p<4;p+=1){const L=hn(u,f,p);o[p]?o[p].p(L,k):(o[p]=dn(L),o[p].c(),o[p].m(t.parentNode,t))}for(;p<4;p+=1)o[p].d(1)}u[45]<2&&c.p(u,k)},d(u){Pt(o,u),u&&a(t),c&&c.d(u),u&&a(i)}}}function Jn(r){let t,n=r[5],s=[];for(let i=0;i<n.length;i+=1)s[i]=mn(sn(r,n,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();t=We()},l(i){for(let f=0;f<s.length;f+=1)s[f].l(i);t=We()},m(i,f){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(i,f);S(i,t,f)},p(i,f){if(f[0]&540775){n=i[5];let o;for(o=0;o<n.length;o+=1){const c=sn(i,n,o);s[o]?s[o].p(c,f):(s[o]=mn(c),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(i){Pt(s,i),i&&a(t)}}}function jn(r){let t,n,s,i;function f(u,k){if(u[3])return li;if(u[4])return ri}let o=f(r),c=o&&o(r);return{c(){t=g("div"),n=g("div"),s=H(),i=g("p"),c&&c.c(),this.h()},l(u){t=m(u,"DIV",{class:!0});var k=h(t);n=m(k,"DIV",{class:!0}),h(n).forEach(a),s=U(k),i=m(k,"P",{class:!0});var p=h(i);c&&c.l(p),p.forEach(a),k.forEach(a),this.h()},h(){e(n,"class","loading-spinner svelte-1v7vl4n"),e(i,"class","loading-text svelte-1v7vl4n"),e(t,"class","loading-container svelte-1v7vl4n")},m(u,k){S(u,t,k),l(t,n),l(t,s),l(t,i),c&&c.m(i,null)},p(u,k){o!==(o=f(u))&&(c&&c.d(1),c=o&&o(u),c&&(c.c(),c.m(i,null)))},d(u){u&&a(t),c&&c.d()}}}function Xn(r){let t,n;return{c(){t=g("img"),this.h()},l(s){t=m(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Cn(t.src,n=On)||e(t,"src",n),e(t,"alt","Down arrow"),e(t,"class","arrow-icon svelte-1v7vl4n")},m(s,i){S(s,t,i)},p:Tt,d(s){s&&a(t)}}}function Qn(r){let t,n;return{c(){t=g("img"),this.h()},l(s){t=m(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Cn(t.src,n=Gn)||e(t,"src",n),e(t,"alt","Up arrow"),e(t,"class","arrow-icon svelte-1v7vl4n")},m(s,i){S(s,t,i)},p:Tt,d(s){s&&a(t)}}}function Zn(r){let t,n=r[1].length>0?(r[1].reduce(i,0)/r[1].length).toFixed(1)+"%":"N/A",s;function i(...f){return r[34](r[39],...f)}return{c(){t=g("span"),s=v(n),this.h()},l(f){t=m(f,"SPAN",{class:!0});var o=h(t);s=d(o,n),o.forEach(a),this.h()},h(){e(t,"class","percent-main svelte-1v7vl4n")},m(f,o){S(f,t,o),l(t,s)},p(f,o){r=f,o[0]&38&&n!==(n=r[1].length>0?(r[1].reduce(i,0)/r[1].length).toFixed(1)+"%":"N/A")&&xe(s,n)},d(f){f&&a(t)}}}function xn(r){let t,n=(r[2]==="2025vs2023"?r[39].perChange2025Display:r[39].perChange2024Display)+"",s;return{c(){t=g("span"),s=v(n),this.h()},l(i){t=m(i,"SPAN",{class:!0});var f=h(t);s=d(f,n),f.forEach(a),this.h()},h(){e(t,"class","percent-main svelte-1v7vl4n")},m(i,f){S(i,t,f),l(t,s)},p(i,f){f[0]&36&&n!==(n=(i[2]==="2025vs2023"?i[39].perChange2025Display:i[39].perChange2024Display)+"")&&xe(s,n)},d(i){i&&a(t)}}}function pn(r){let t;return{c(){t=M("line"),this.h()},l(n){t=I(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(t).forEach(a),this.h()},h(){e(t,"x1",r[45]*(oe/3)+r[48]*oe/3/4),e(t,"y1",5),e(t,"x2",r[45]*(oe/3)+r[48]*oe/3/4),e(t,"y2",45),e(t,"stroke","#333333"),e(t,"stroke-width","1")},m(n,s){S(n,t,s)},p:Tt,d(n){n&&a(t)}}}function $n(r){let t;return{c(){t=M("line"),this.h()},l(n){t=I(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(t).forEach(a),this.h()},h(){e(t,"x1",(r[45]+1)*(oe/3)),e(t,"y1",5),e(t,"x2",(r[45]+1)*(oe/3)),e(t,"y2",45),e(t,"stroke","#555555"),e(t,"stroke-width","2")},m(n,s){S(n,t,s)},p:Tt,d(n){n&&a(t)}}}function yn(r){let t,n,s=[1,2,3],i=[];for(let o=0;o<3;o+=1)i[o]=pn(cn(r,s,o));let f=r[45]<2&&$n(r);return{c(){for(let o=0;o<3;o+=1)i[o].c();t=We(),f&&f.c(),n=We()},l(o){for(let c=0;c<3;c+=1)i[c].l(o);t=We(),f&&f.l(o),n=We()},m(o,c){for(let u=0;u<3;u+=1)i[u]&&i[u].m(o,c);S(o,t,c),f&&f.m(o,c),S(o,n,c)},p(o,c){if(c&0){s=[1,2,3];let u;for(u=0;u<3;u+=1){const k=cn(o,s,u);i[u]?i[u].p(k,c):(i[u]=pn(k),i[u].c(),i[u].m(t.parentNode,t))}for(;u<3;u+=1)i[u].d(1)}o[45]<2&&f.p(o,c)},d(o){Pt(i,o),o&&a(t),f&&f.d(o),o&&a(n)}}}function ei(r){let t,n,s,i,f=r[1],o=[];for(let c=0;c<f.length;c+=1)o[c]=gn(an(r,f,c));return{c(){t=M("line");for(let c=0;c<o.length;c+=1)o[c].c();i=We(),this.h()},l(c){t=I(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),h(t).forEach(a);for(let u=0;u<o.length;u+=1)o[u].l(c);i=We(),this.h()},h(){e(t,"x1","0"),e(t,"y1",n=r[39].meanLine),e(t,"x2",oe),e(t,"y2",s=r[39].meanLine),e(t,"stroke","#D0D1C9"),e(t,"stroke-width","1"),e(t,"stroke-dasharray","4")},m(c,u){S(c,t,u);for(let k=0;k<o.length;k+=1)o[k]&&o[k].m(c,u);S(c,i,u)},p(c,u){if(u[0]&32&&n!==(n=c[39].meanLine)&&e(t,"y1",n),u[0]&32&&s!==(s=c[39].meanLine)&&e(t,"y2",s),u[0]&16418){f=c[1];let k;for(k=0;k<f.length;k+=1){const p=an(c,f,k);o[k]?o[k].p(p,u):(o[k]=gn(p),o[k].c(),o[k].m(i.parentNode,i))}for(;k<o.length;k+=1)o[k].d(1);o.length=f.length}},d(c){c&&a(t),Pt(o,c),c&&a(i)}}}function ti(r){let t,n,s,i,f,o,c,u,k,p,L,O,B,Z,W,j,b,G,N,K,se,X,ee,z,A,Q,x;return{c(){t=M("line"),i=M("path"),o=M("path"),u=M("path"),p=M("circle"),B=M("circle"),j=M("circle"),N=M("circle"),X=M("circle"),A=M("circle"),this.h()},l(y){t=I(y,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),h(t).forEach(a),i=I(y,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),h(i).forEach(a),o=I(y,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),h(o).forEach(a),u=I(y,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),h(u).forEach(a),p=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(p).forEach(a),B=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(B).forEach(a),j=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(j).forEach(a),N=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(N).forEach(a),X=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(X).forEach(a),A=I(y,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(A).forEach(a),this.h()},h(){e(t,"x1","0"),e(t,"y1",n=r[39].meanLine),e(t,"x2",oe),e(t,"y2",s=r[39].meanLine),e(t,"stroke","#D0D1C9"),e(t,"stroke-width","1"),e(t,"stroke-dasharray","4"),e(i,"d",f=r[39].regressionLine2023),e(i,"stroke","var(--brandPink)"),e(i,"stroke-width","2"),e(i,"fill","none"),e(o,"d",c=r[39].regressionLine2024),e(o,"stroke","var(--brandMedGreen)"),e(o,"stroke-width","2"),e(o,"fill","none"),e(u,"d",k=r[39].regressionLine2025),e(u,"stroke","var(--brandRed)"),e(u,"stroke-width","2"),e(u,"fill","none"),e(p,"cx",L=r[39].startCircle2023.cx),e(p,"cy",O=r[39].startCircle2023.cy),e(p,"r","1"),e(p,"fill","var(--brandPink)"),e(p,"stroke","var(--brandPink)"),e(p,"stroke-width","2"),e(B,"cx",Z=r[39].endCircle2023.cx),e(B,"cy",W=r[39].endCircle2023.cy),e(B,"r","1"),e(B,"fill","var(--brandPink)"),e(B,"stroke","var(--brandPink)"),e(B,"stroke-width","2"),e(j,"cx",b=r[39].startCircle2024.cx),e(j,"cy",G=r[39].startCircle2024.cy),e(j,"r","1"),e(j,"fill","var(--brandMedGreen)"),e(j,"stroke","var(--brandMedGreen)"),e(j,"stroke-width","2"),e(N,"cx",K=r[39].endCircle2024.cx),e(N,"cy",se=r[39].endCircle2024.cy),e(N,"r","1"),e(N,"fill","var(--brandMedGreen)"),e(N,"stroke","var(--brandMedGreen)"),e(N,"stroke-width","2"),e(X,"cx",ee=r[39].startCircle2025.cx),e(X,"cy",z=r[39].startCircle2025.cy),e(X,"r","1"),e(X,"fill","var(--brandRed)"),e(X,"stroke","var(--brandRed)"),e(X,"stroke-width","2"),e(A,"cx",Q=r[39].endCircle2025.cx),e(A,"cy",x=r[39].endCircle2025.cy),e(A,"r","1"),e(A,"fill","var(--brandRed)"),e(A,"stroke","var(--brandRed)"),e(A,"stroke-width","2")},m(y,w){S(y,t,w),S(y,i,w),S(y,o,w),S(y,u,w),S(y,p,w),S(y,B,w),S(y,j,w),S(y,N,w),S(y,X,w),S(y,A,w)},p(y,w){w[0]&32&&n!==(n=y[39].meanLine)&&e(t,"y1",n),w[0]&32&&s!==(s=y[39].meanLine)&&e(t,"y2",s),w[0]&32&&f!==(f=y[39].regressionLine2023)&&e(i,"d",f),w[0]&32&&c!==(c=y[39].regressionLine2024)&&e(o,"d",c),w[0]&32&&k!==(k=y[39].regressionLine2025)&&e(u,"d",k),w[0]&32&&L!==(L=y[39].startCircle2023.cx)&&e(p,"cx",L),w[0]&32&&O!==(O=y[39].startCircle2023.cy)&&e(p,"cy",O),w[0]&32&&Z!==(Z=y[39].endCircle2023.cx)&&e(B,"cx",Z),w[0]&32&&W!==(W=y[39].endCircle2023.cy)&&e(B,"cy",W),w[0]&32&&b!==(b=y[39].startCircle2024.cx)&&e(j,"cx",b),w[0]&32&&G!==(G=y[39].startCircle2024.cy)&&e(j,"cy",G),w[0]&32&&K!==(K=y[39].endCircle2024.cx)&&e(N,"cx",K),w[0]&32&&se!==(se=y[39].endCircle2024.cy)&&e(N,"cy",se),w[0]&32&&ee!==(ee=y[39].startCircle2025.cx)&&e(X,"cx",ee),w[0]&32&&z!==(z=y[39].startCircle2025.cy)&&e(X,"cy",z),w[0]&32&&Q!==(Q=y[39].endCircle2025.cx)&&e(A,"cx",Q),w[0]&32&&x!==(x=y[39].endCircle2025.cy)&&e(A,"cy",x)},d(y){y&&a(t),y&&a(i),y&&a(o),y&&a(u),y&&a(p),y&&a(B),y&&a(j),y&&a(N),y&&a(X),y&&a(A)}}}function gn(r){let t,n,s,i,f,o,c,u,k,p,L,O,B,Z,W,j,b,G,N,K,se,X,ee,z,A,Q,x,y,w,E,q,D,C,F,R,te,ue,me,Ve;return{c(){t=M("path"),i=M("path"),c=M("path"),p=M("circle"),W=M("circle"),K=M("circle"),A=M("circle"),E=M("circle"),R=M("circle"),this.h()},l(_){t=I(_,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),h(t).forEach(a),i=I(_,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),h(i).forEach(a),c=I(_,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),h(c).forEach(a),p=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(p).forEach(a),W=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(W).forEach(a),K=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(K).forEach(a),A=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(A).forEach(a),E=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(E).forEach(a),R=I(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),h(R).forEach(a),this.h()},h(){e(t,"d",n=r[39].activityLines[r[42]].line2023),e(t,"stroke",s=r[14][r[42]]),e(t,"stroke-width","2"),e(t,"fill","none"),e(i,"d",f=r[39].activityLines[r[42]].line2024),e(i,"stroke",o=r[14][r[42]]),e(i,"stroke-width","2"),e(i,"fill","none"),e(c,"d",u=r[39].activityLines[r[42]].line2025),e(c,"stroke",k=r[14][r[42]]),e(c,"stroke-width","2"),e(c,"fill","none"),e(p,"cx",L=r[39].activityLines[r[42]].startCircle2023.cx),e(p,"cy",O=r[39].activityLines[r[42]].startCircle2023.cy),e(p,"r","1"),e(p,"fill",B=r[14][r[42]]),e(p,"stroke",Z=r[14][r[42]]),e(p,"stroke-width","2"),e(W,"cx",j=r[39].activityLines[r[42]].endCircle2023.cx),e(W,"cy",b=r[39].activityLines[r[42]].endCircle2023.cy),e(W,"r","1"),e(W,"fill",G=r[14][r[42]]),e(W,"stroke",N=r[14][r[42]]),e(W,"stroke-width","2"),e(K,"cx",se=r[39].activityLines[r[42]].startCircle2024.cx),e(K,"cy",X=r[39].activityLines[r[42]].startCircle2024.cy),e(K,"r","1"),e(K,"fill",ee=r[14][r[42]]),e(K,"stroke",z=r[14][r[42]]),e(K,"stroke-width","2"),e(A,"cx",Q=r[39].activityLines[r[42]].endCircle2024.cx),e(A,"cy",x=r[39].activityLines[r[42]].endCircle2024.cy),e(A,"r","1"),e(A,"fill",y=r[14][r[42]]),e(A,"stroke",w=r[14][r[42]]),e(A,"stroke-width","2"),e(E,"cx",q=r[39].activityLines[r[42]].startCircle2025.cx),e(E,"cy",D=r[39].activityLines[r[42]].startCircle2025.cy),e(E,"r","1"),e(E,"fill",C=r[14][r[42]]),e(E,"stroke",F=r[14][r[42]]),e(E,"stroke-width","2"),e(R,"cx",te=r[39].activityLines[r[42]].endCircle2025.cx),e(R,"cy",ue=r[39].activityLines[r[42]].endCircle2025.cy),e(R,"r","1"),e(R,"fill",me=r[14][r[42]]),e(R,"stroke",Ve=r[14][r[42]]),e(R,"stroke-width","2")},m(_,T){S(_,t,T),S(_,i,T),S(_,c,T),S(_,p,T),S(_,W,T),S(_,K,T),S(_,A,T),S(_,E,T),S(_,R,T)},p(_,T){T[0]&34&&n!==(n=_[39].activityLines[_[42]].line2023)&&e(t,"d",n),T[0]&2&&s!==(s=_[14][_[42]])&&e(t,"stroke",s),T[0]&34&&f!==(f=_[39].activityLines[_[42]].line2024)&&e(i,"d",f),T[0]&2&&o!==(o=_[14][_[42]])&&e(i,"stroke",o),T[0]&34&&u!==(u=_[39].activityLines[_[42]].line2025)&&e(c,"d",u),T[0]&2&&k!==(k=_[14][_[42]])&&e(c,"stroke",k),T[0]&34&&L!==(L=_[39].activityLines[_[42]].startCircle2023.cx)&&e(p,"cx",L),T[0]&34&&O!==(O=_[39].activityLines[_[42]].startCircle2023.cy)&&e(p,"cy",O),T[0]&2&&B!==(B=_[14][_[42]])&&e(p,"fill",B),T[0]&2&&Z!==(Z=_[14][_[42]])&&e(p,"stroke",Z),T[0]&34&&j!==(j=_[39].activityLines[_[42]].endCircle2023.cx)&&e(W,"cx",j),T[0]&34&&b!==(b=_[39].activityLines[_[42]].endCircle2023.cy)&&e(W,"cy",b),T[0]&2&&G!==(G=_[14][_[42]])&&e(W,"fill",G),T[0]&2&&N!==(N=_[14][_[42]])&&e(W,"stroke",N),T[0]&34&&se!==(se=_[39].activityLines[_[42]].startCircle2024.cx)&&e(K,"cx",se),T[0]&34&&X!==(X=_[39].activityLines[_[42]].startCircle2024.cy)&&e(K,"cy",X),T[0]&2&&ee!==(ee=_[14][_[42]])&&e(K,"fill",ee),T[0]&2&&z!==(z=_[14][_[42]])&&e(K,"stroke",z),T[0]&34&&Q!==(Q=_[39].activityLines[_[42]].endCircle2024.cx)&&e(A,"cx",Q),T[0]&34&&x!==(x=_[39].activityLines[_[42]].endCircle2024.cy)&&e(A,"cy",x),T[0]&2&&y!==(y=_[14][_[42]])&&e(A,"fill",y),T[0]&2&&w!==(w=_[14][_[42]])&&e(A,"stroke",w),T[0]&34&&q!==(q=_[39].activityLines[_[42]].startCircle2025.cx)&&e(E,"cx",q),T[0]&34&&D!==(D=_[39].activityLines[_[42]].startCircle2025.cy)&&e(E,"cy",D),T[0]&2&&C!==(C=_[14][_[42]])&&e(E,"fill",C),T[0]&2&&F!==(F=_[14][_[42]])&&e(E,"stroke",F),T[0]&34&&te!==(te=_[39].activityLines[_[42]].endCircle2025.cx)&&e(R,"cx",te),T[0]&34&&ue!==(ue=_[39].activityLines[_[42]].endCircle2025.cy)&&e(R,"cy",ue),T[0]&2&&me!==(me=_[14][_[42]])&&e(R,"fill",me),T[0]&2&&Ve!==(Ve=_[14][_[42]])&&e(R,"stroke",Ve)},d(_){_&&a(t),_&&a(i),_&&a(c),_&&a(p),_&&a(W),_&&a(K),_&&a(A),_&&a(E),_&&a(R)}}}function mn(r){let t,n,s,i,f,o=r[41]+1+"",c,u,k=r[39].city+"",p,L,O,B,Z,W,j,b,G,N,K,se;function X(C,F){return F[0]&32&&(B=null),B==null&&(B=C[19](C[39])>=0),B?Qn:Xn}let ee=X(r,[-1,-1]),z=ee(r);function A(C,F){return C[0]==="overall"?xn:Zn}let Q=A(r),x=Q(r),y=[0,1,2],w=[];for(let C=0;C<3;C+=1)w[C]=yn(on(r,y,C));function E(C,F){return C[0]==="overall"?ti:ei}let q=E(r),D=q(r);return{c(){t=g("div"),n=g("div"),s=M("svg"),i=M("line"),f=M("text"),c=v(o),u=v(". "),p=v(k),L=H(),O=g("div"),z.c(),Z=H(),W=g("div"),x.c(),j=H(),b=g("div"),G=M("svg");for(let C=0;C<3;C+=1)w[C].c();N=We(),D.c(),K=H(),this.h()},l(C){t=m(C,"DIV",{class:!0});var F=h(t);n=m(F,"DIV",{class:!0});var R=h(n);s=I(R,"svg",{width:!0,height:!0,class:!0});var te=h(s);i=I(te,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(i).forEach(a),f=I(te,"text",{x:!0,y:!0,class:!0});var ue=h(f);c=d(ue,o),u=d(ue,". "),p=d(ue,k),ue.forEach(a),te.forEach(a),R.forEach(a),L=U(F),O=m(F,"DIV",{class:!0});var me=h(O);z.l(me),me.forEach(a),Z=U(F),W=m(F,"DIV",{class:!0});var Ve=h(W);x.l(Ve),Ve.forEach(a),j=U(F),b=m(F,"DIV",{class:!0,style:!0});var _=h(b);G=I(_,"svg",{height:!0,width:!0,class:!0});var T=h(G);for(let P=0;P<3;P+=1)w[P].l(T);N=We(),D.l(T),T.forEach(a),_.forEach(a),K=U(F),F.forEach(a),this.h()},h(){e(i,"x1","5"),e(i,"y1","15"),e(i,"x2","5"),e(i,"y2",jt-45),e(i,"stroke","#fff"),e(i,"stroke-width","5"),e(f,"x","12"),e(f,"y","31"),e(f,"class","textCity svelte-1v7vl4n"),e(s,"width","150"),e(s,"height",jt),e(s,"class","region-bar"),e(n,"class","left svelte-1v7vl4n"),e(O,"class","arrow svelte-1v7vl4n"),e(W,"class","number svelte-1v7vl4n"),e(G,"height",jt),e(G,"width",oe),e(G,"class","chart svelte-1v7vl4n"),e(b,"class","chart-container svelte-1v7vl4n"),ie(b,"width",oe),e(t,"class","chart-wrapper svelte-1v7vl4n"),Sn(()=>r[35].call(t))},m(C,F){S(C,t,F),l(t,n),l(n,s),l(s,i),l(s,f),l(f,c),l(f,u),l(f,p),l(t,L),l(t,O),z.m(O,null),l(t,Z),l(t,W),x.m(W,null),l(t,j),l(t,b),l(b,G);for(let R=0;R<3;R+=1)w[R]&&w[R].m(G,null);l(G,N),D.m(G,null),l(t,K),se=Nn(t,r[35].bind(t))},p(C,F){if(F[0]&32&&k!==(k=C[39].city+"")&&xe(p,k),ee===(ee=X(C,F))&&z?z.p(C,F):(z.d(1),z=ee(C),z&&(z.c(),z.m(O,null))),Q===(Q=A(C))&&x?x.p(C,F):(x.d(1),x=Q(C),x&&(x.c(),x.m(W,null))),F&0){y=[0,1,2];let R;for(R=0;R<3;R+=1){const te=on(C,y,R);w[R]?w[R].p(te,F):(w[R]=yn(te),w[R].c(),w[R].m(G,N))}for(;R<3;R+=1)w[R].d(1)}q===(q=E(C))&&D?D.p(C,F):(D.d(1),D=q(C),D&&(D.c(),D.m(G,null)))},d(C){C&&a(t),z.d(),x.d(),Pt(w,C),D.d(),se()}}}function ri(r){let t;return{c(){t=v("Loading activity data (this may take a moment)...")},l(n){t=d(n,"Loading activity data (this may take a moment)...")},m(n,s){S(n,t,s)},d(n){n&&a(t)}}}function li(r){let t;return{c(){t=v("Loading overall data...")},l(n){t=d(n,"Loading overall data...")},m(n,s){S(n,t,s)},d(n){n&&a(t)}}}function ni(r){var Ll,Vl;let t,n,s,i,f,o,c,u,k,p,L,O,B,Z,W,j,b,G,N,K,se,X=r[12].update_date+"",ee,z,A,Q,x,y,w,E,q,D,C=r[12].year3+"",F,R,te=r[12].year2+"",ue,me,Ve=r[12].year1+"",_,T,P,ne,_e,$e=r[12].year1+"",he,Re,pe=r[12].year1+"",Ee,ye,ae,fe,Te,we,Oe,ge,ze,Y,ke,Me,Ge,He,ce,ot,Ae,$,Se=(((Ll=r[9])==null?void 0:Ll.toFixed(1))??"...")+"",Ye,et,tt,De,be,Ue,rt,kt,ve,Mt,Xt,ct,bt=(((Vl=r[7])==null?void 0:Vl.toFixed(1))??"...")+"",It,Qt,Zt,or=r[12].year1+"",xt,J,$t,Pe,Rt,ut,er,tr,cr=r[12].year3+"",rr,lr,ml=r[12].year2+"",yr,gr,mr,ht,wr,Ct,kr,br,St,Cr,Er,Dr,Ke,ft,Lr,wl=r[12].year1+"",Vr,Ar,kl=r[12].year3+"",Pr,Tr,Mr,gt,lt,Nt,Ir,Rr,vt,Sr,Nr,dt,Br,Or,nt,Bt,Gr,Hr,_t,Ur,qr,pt,Fr,Wr,zr,Ot,yt,Gt,Ht,Ne,mt,Yr,Je,Kr,Jr,Le,jr,Xr,Qr,Zr,nr,xr,$r,Be,el,Et,tl,rl,Dt,ll,nl,Lt,il,sl,Vt,al,ol,cl,ul,hl,fl,Ie,vl,bl;t=new Bn({});function Cl(V,re){return V[0]==="overall"?Wn:Fn}let ur=Cl(r),je=ur(r);function El(V,re){return V[0]==="overall"?Yn:zn}let hr=El(r),Xe=hr(r),dl=[0,1,2],qe=[];for(let V=0;V<3;V+=1)qe[V]=_n(un(r,dl,V));function Dl(V,re){return V[3]||V[4]?jn:Jn}let fr=Dl(r),Qe=fr(r);return{c(){Vn(t.$$.fragment),n=H(),s=g("main"),i=g("div"),f=g("h1"),o=v("US Downtown Recovery Trends"),c=H(),u=g("p"),k=v("By "),p=g("a"),L=v("Karen Chapple"),O=v(`,\r
       `),B=g("a"),Z=v("Yihoi Jung"),W=v(`,\r
      \r
      `),j=g("a"),b=v("Jeff Allen"),G=H(),N=g("p"),K=g("i"),se=v("Updated "),ee=v(X),z=H(),A=g("p"),Q=v(`Data on cell phone activity (a.k.a. footfall) trends for the last two\r
      years can provide a picture of how US downtowns are faring post-pandemic.`),x=H(),y=g("p"),w=v("On this page, we provide an update from "),E=g("a"),q=v("our previous trends analysis (2023-2024)"),D=v(`, specifically looking at\r
      year-over-year trends comparing September to December `),F=v(C),R=v(` to the same period in\r
      `),ue=v(te),me=v(`\r
      and `),_=v(Ve),T=v("."),P=H(),ne=g("p"),_e=v(`The solid lines on the charts below represent the number of daily unique stops in the downtown\r
      area, split by the three years for comparison. The dotted lines provide a\r
      baseline of the average level of activity in\r
      `),he=v($e),Re=v(`, allowing for comparison to the following years. When\r
      the solid lines extend above the dotted baseline, downtown activity is\r
      greater compared to `),Ee=v(pe),ye=v(` months. When they dip below the dotted\r
      line, activity is on a downswing.`),ae=H(),fe=g("p"),Te=v(`There are two interactive toggle views at the top, one for view mode\r
      (Overall vs. By Visitor) and one for the percent change comparison. When\r
      "By Visitor" is selected, you can view by trends by those who A) work downtown B) live downtown and C) neither work nor live downtown.`),we=H(),Oe=g("h5"),ge=v("Key findings:"),ze=H(),Y=g("p"),ke=v("‣ "),Me=g("span"),Ge=v(r[11]),He=v(` out of\r
      `),ce=g("span"),ot=v(r[10]),Ae=v(`\r
      US cities rose in activity in 2025 compared to 2024, with a mean increase of\r
      `),$=g("span"),Ye=v(Se),et=v("%"),tt=v(`.\r
      `),De=g("br"),be=v(`\r
      ‣ Compared to 2023, `),Ue=g("span"),rt=v(r[8]),kt=v(` out of\r
      `),ve=g("span"),Mt=v(r[10]),Xt=v(`\r
      cities saw increases, with a mean increase of\r
      `),ct=g("span"),It=v(bt),Qt=v("%"),Zt=v(`,\r
      indicating that most downtowns are up from their `),xt=v(or),J=v(`\r
      activity levels.`),$t=H(),Pe=g("p"),Rt=v("Note 1: Trends are based on a sample of data from "),ut=g("a"),er=v("Cuebiq"),tr=v(`, but use different cell\r
      phone data providers from our previous rankings analysis. The trendlines measure\r
      the average level of activity over the course of the year, while the\r
      ranking metric shows the percent difference in the average number of\r
      unique devices in `),rr=v(cr),lr=v(" versus the same set of months in "),yr=v(ml),gr=v("."),mr=H(),ht=g("p"),wr=v("Note 2: Baltimore's data is cut off at 2023 due to "),Ct=g("a"),kr=v(`Maryland's data privacy\r
      restrictions`),br=v(`, and Portland's data is cut off at mid-December 2025, due to\r
      `),St=g("a"),Cr=v("Oregon's Consumer Privacy Act"),Er=v("."),Dr=H(),Ke=g("div"),ft=g("h4"),Lr=v("Unique Devices Downtown (September to December from "),Vr=v(wl),Ar=v(" to "),Pr=v(kl),Tr=v(")"),Mr=H(),gt=g("div"),lt=g("div"),Nt=g("span"),Ir=v("View mode:"),Rr=H(),vt=g("button"),Sr=v("Overall"),Nr=H(),dt=g("button"),Br=v("By Visitor"),Or=H(),nt=g("div"),Bt=g("span"),Gr=v("Compare:"),Hr=H(),_t=g("button"),Ur=v("2025 vs 2023"),qr=H(),pt=g("button"),Fr=v("2025 vs 2024"),Wr=H(),je.c(),zr=H(),Ot=g("div"),yt=g("div"),Gt=g("div"),Ht=g("div"),Ne=M("svg"),mt=M("text"),Yr=v("City"),Xe.c(),Je=M("line");for(let V=0;V<3;V+=1)qe[V].c();Kr=H(),Qe.c(),Jr=H(),Le=g("div"),jr=g("br"),Xr=H(),Qr=g("br"),Zr=H(),nr=g("h4"),xr=v("More information"),$r=H(),Be=g("p"),el=v("The trend lines are fit from daily data via a "),Et=g("a"),tl=v("LOESS"),rl=v(`\r
      curve. You can download the raw daily data shown to fit these curves\r
      `),Dt=g("a"),ll=v("from this link for the data by visitor type"),nl=v(`\r
      and\r
      `),Lt=g("a"),il=v("from this link for the overall trends data"),sl=v(`. The data on the charts are based on the \`normalized_distinct_clean\`\r
      column, which pertains to the number of unique daily devices normalized\r
      by the total number in the metro area. The trend-line and summary\r
      statistics shown are calculated in JavaScript (code is on\r
      `),Vt=g("a"),al=v("GitHub"),ol=v(")."),cl=H(),ul=g("br"),hl=H(),fl=g("br"),this.h()},l(V){An(t.$$.fragment,V),n=U(V),s=m(V,"MAIN",{});var re=h(s);i=m(re,"DIV",{class:!0});var le=h(i);f=m(le,"H1",{});var ir=h(f);o=d(ir,"US Downtown Recovery Trends"),ir.forEach(a),c=U(le),u=m(le,"P",{});var de=h(u);k=d(de,"By "),p=m(de,"A",{href:!0,target:!0});var sr=h(p);L=d(sr,"Karen Chapple"),sr.forEach(a),O=d(de,`,\r
       `),B=m(de,"A",{href:!0,target:!0});var Al=h(B);Z=d(Al,"Yihoi Jung"),Al.forEach(a),W=d(de,`,\r
      \r
      `),j=m(de,"A",{href:!0,target:!0});var Pl=h(j);b=d(Pl,"Jeff Allen"),Pl.forEach(a),de.forEach(a),G=U(le),N=m(le,"P",{});var Tl=h(N);K=m(Tl,"I",{});var _l=h(K);se=d(_l,"Updated "),ee=d(_l,X),_l.forEach(a),Tl.forEach(a),z=U(le),A=m(le,"P",{});var Ml=h(A);Q=d(Ml,`Data on cell phone activity (a.k.a. footfall) trends for the last two\r
      years can provide a picture of how US downtowns are faring post-pandemic.`),Ml.forEach(a),x=U(le),y=m(le,"P",{});var it=h(y);w=d(it,"On this page, we provide an update from "),E=m(it,"A",{href:!0});var Il=h(E);q=d(Il,"our previous trends analysis (2023-2024)"),Il.forEach(a),D=d(it,`, specifically looking at\r
      year-over-year trends comparing September to December `),F=d(it,C),R=d(it,` to the same period in\r
      `),ue=d(it,te),me=d(it,`\r
      and `),_=d(it,Ve),T=d(it,"."),it.forEach(a),P=U(le),ne=m(le,"P",{});var Ut=h(ne);_e=d(Ut,`The solid lines on the charts below represent the number of daily unique stops in the downtown\r
      area, split by the three years for comparison. The dotted lines provide a\r
      baseline of the average level of activity in\r
      `),he=d(Ut,$e),Re=d(Ut,`, allowing for comparison to the following years. When\r
      the solid lines extend above the dotted baseline, downtown activity is\r
      greater compared to `),Ee=d(Ut,pe),ye=d(Ut,` months. When they dip below the dotted\r
      line, activity is on a downswing.`),Ut.forEach(a),ae=U(le),fe=m(le,"P",{});var Rl=h(fe);Te=d(Rl,`There are two interactive toggle views at the top, one for view mode\r
      (Overall vs. By Visitor) and one for the percent change comparison. When\r
      "By Visitor" is selected, you can view by trends by those who A) work downtown B) live downtown and C) neither work nor live downtown.`),Rl.forEach(a),we=U(le),Oe=m(le,"H5",{});var Sl=h(Oe);ge=d(Sl,"Key findings:"),Sl.forEach(a),ze=U(le),Y=m(le,"P",{});var Ce=h(Y);ke=d(Ce,"‣ "),Me=m(Ce,"SPAN",{class:!0});var Nl=h(Me);Ge=d(Nl,r[11]),Nl.forEach(a),He=d(Ce,` out of\r
      `),ce=m(Ce,"SPAN",{class:!0});var Bl=h(ce);ot=d(Bl,r[10]),Bl.forEach(a),Ae=d(Ce,`\r
      US cities rose in activity in 2025 compared to 2024, with a mean increase of\r
      `),$=m(Ce,"SPAN",{class:!0});var pl=h($);Ye=d(pl,Se),et=d(pl,"%"),pl.forEach(a),tt=d(Ce,`.\r
      `),De=m(Ce,"BR",{}),be=d(Ce,`\r
      ‣ Compared to 2023, `),Ue=m(Ce,"SPAN",{class:!0});var Ol=h(Ue);rt=d(Ol,r[8]),Ol.forEach(a),kt=d(Ce,` out of\r
      `),ve=m(Ce,"SPAN",{class:!0});var Gl=h(ve);Mt=d(Gl,r[10]),Gl.forEach(a),Xt=d(Ce,`\r
      cities saw increases, with a mean increase of\r
      `),ct=m(Ce,"SPAN",{class:!0});var yl=h(ct);It=d(yl,bt),Qt=d(yl,"%"),yl.forEach(a),Zt=d(Ce,`,\r
      indicating that most downtowns are up from their `),xt=d(Ce,or),J=d(Ce,`\r
      activity levels.`),Ce.forEach(a),$t=U(le),Pe=m(le,"P",{});var wt=h(Pe);Rt=d(wt,"Note 1: Trends are based on a sample of data from "),ut=m(wt,"A",{href:!0,target:!0});var Hl=h(ut);er=d(Hl,"Cuebiq"),Hl.forEach(a),tr=d(wt,`, but use different cell\r
      phone data providers from our previous rankings analysis. The trendlines measure\r
      the average level of activity over the course of the year, while the\r
      ranking metric shows the percent difference in the average number of\r
      unique devices in `),rr=d(wt,cr),lr=d(wt," versus the same set of months in "),yr=d(wt,ml),gr=d(wt,"."),wt.forEach(a),mr=U(le),ht=m(le,"P",{});var qt=h(ht);wr=d(qt,"Note 2: Baltimore's data is cut off at 2023 due to "),Ct=m(qt,"A",{href:!0,target:!0});var Ul=h(Ct);kr=d(Ul,`Maryland's data privacy\r
      restrictions`),Ul.forEach(a),br=d(qt,`, and Portland's data is cut off at mid-December 2025, due to\r
      `),St=m(qt,"A",{href:!0});var ql=h(St);Cr=d(ql,"Oregon's Consumer Privacy Act"),ql.forEach(a),Er=d(qt,"."),qt.forEach(a),le.forEach(a),Dr=U(re),Ke=m(re,"DIV",{class:!0});var Ft=h(Ke);ft=m(Ft,"H4",{});var Wt=h(ft);Lr=d(Wt,"Unique Devices Downtown (September to December from "),Vr=d(Wt,wl),Ar=d(Wt," to "),Pr=d(Wt,kl),Tr=d(Wt,")"),Wt.forEach(a),Mr=U(Ft),gt=m(Ft,"DIV",{class:!0});var vr=h(gt);lt=m(vr,"DIV",{class:!0});var zt=h(lt);Nt=m(zt,"SPAN",{class:!0});var Fl=h(Nt);Ir=d(Fl,"View mode:"),Fl.forEach(a),Rr=U(zt),vt=m(zt,"BUTTON",{class:!0});var Wl=h(vt);Sr=d(Wl,"Overall"),Wl.forEach(a),Nr=U(zt),dt=m(zt,"BUTTON",{class:!0});var zl=h(dt);Br=d(zl,"By Visitor"),zl.forEach(a),zt.forEach(a),Or=U(vr),nt=m(vr,"DIV",{class:!0});var Yt=h(nt);Bt=m(Yt,"SPAN",{class:!0});var Yl=h(Bt);Gr=d(Yl,"Compare:"),Yl.forEach(a),Hr=U(Yt),_t=m(Yt,"BUTTON",{class:!0});var Kl=h(_t);Ur=d(Kl,"2025 vs 2023"),Kl.forEach(a),qr=U(Yt),pt=m(Yt,"BUTTON",{class:!0});var Jl=h(pt);Fr=d(Jl,"2025 vs 2024"),Jl.forEach(a),Yt.forEach(a),vr.forEach(a),Wr=U(Ft),je.l(Ft),Ft.forEach(a),zr=U(re),Ot=m(re,"DIV",{class:!0});var jl=h(Ot);yt=m(jl,"DIV",{class:!0});var dr=h(yt);Gt=m(dr,"DIV",{class:!0});var Xl=h(Gt);Ht=m(Xl,"DIV",{class:!0});var Ql=h(Ht);Ne=I(Ql,"svg",{width:!0,height:!0,class:!0});var ar=h(Ne);mt=I(ar,"text",{x:!0,y:!0,class:!0});var Zl=h(mt);Yr=d(Zl,"City"),Zl.forEach(a),Xe.l(ar),Je=I(ar,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),h(Je).forEach(a);for(let gl=0;gl<3;gl+=1)qe[gl].l(ar);ar.forEach(a),Ql.forEach(a),Xl.forEach(a),Kr=U(dr),Qe.l(dr),dr.forEach(a),jl.forEach(a),Jr=U(re),Le=m(re,"DIV",{class:!0});var Fe=h(Le);jr=m(Fe,"BR",{}),Xr=U(Fe),Qr=m(Fe,"BR",{}),Zr=U(Fe),nr=m(Fe,"H4",{});var xl=h(nr);xr=d(xl,"More information"),xl.forEach(a),$r=U(Fe),Be=m(Fe,"P",{});var st=h(Be);el=d(st,"The trend lines are fit from daily data via a "),Et=m(st,"A",{href:!0,target:!0});var $l=h(Et);tl=d($l,"LOESS"),$l.forEach(a),rl=d(st,`\r
      curve. You can download the raw daily data shown to fit these curves\r
      `),Dt=m(st,"A",{href:!0,target:!0});var en=h(Dt);ll=d(en,"from this link for the data by visitor type"),en.forEach(a),nl=d(st,`\r
      and\r
      `),Lt=m(st,"A",{href:!0,target:!0});var tn=h(Lt);il=d(tn,"from this link for the overall trends data"),tn.forEach(a),sl=d(st,`. The data on the charts are based on the \`normalized_distinct_clean\`\r
      column, which pertains to the number of unique daily devices normalized\r
      by the total number in the metro area. The trend-line and summary\r
      statistics shown are calculated in JavaScript (code is on\r
      `),Vt=m(st,"A",{href:!0,target:!0});var rn=h(Vt);al=d(rn,"GitHub"),rn.forEach(a),ol=d(st,")."),st.forEach(a),cl=U(Fe),ul=m(Fe,"BR",{}),hl=U(Fe),fl=m(Fe,"BR",{}),Fe.forEach(a),re.forEach(a),this.h()},h(){e(p,"href","https://schoolofcities.utoronto.ca/people/karen-chapple/"),e(p,"target","_blank"),e(B,"href","https://www.linkedin.com/in/yihoi-jung-0b95351b5/"),e(B,"target","_blank"),e(j,"href","https://schoolofcities.utoronto.ca/people/jeff-allen/"),e(j,"target","_blank"),e(E,"href","trends"),e(Me,"class","bold"),e(ce,"class","bold"),e($,"class","bold"),e(Ue,"class","bold"),e(ve,"class","bold"),e(ct,"class","bold"),e(ut,"href","https://cuebiq.com/social-impact/"),e(ut,"target","_blank"),e(Ct,"href","https://mgaleg.maryland.gov/2024RS/Chapters_noln/CH_454_hb0567e.pdf"),e(Ct,"target","_blank"),e(St,"href","https://olis.oregonlegislature.gov/liz/2025R1/Measures/Overview/HB2008"),e(i,"class","text svelte-1v7vl4n"),e(Nt,"class","toggle-label svelte-1v7vl4n"),e(vt,"class","toggle-btn svelte-1v7vl4n"),at(vt,"active",r[0]==="overall"),e(dt,"class","toggle-btn svelte-1v7vl4n"),at(dt,"active",r[0]==="breakdown"),e(lt,"class","toggle-group svelte-1v7vl4n"),e(Bt,"class","toggle-label svelte-1v7vl4n"),e(_t,"class","toggle-btn svelte-1v7vl4n"),at(_t,"active",r[2]==="2025vs2023"),e(pt,"class","toggle-btn svelte-1v7vl4n"),at(pt,"active",r[2]==="2025vs2024"),e(nt,"class","toggle-group svelte-1v7vl4n"),e(gt,"class","view-toggle svelte-1v7vl4n"),e(Ke,"class","text svelte-1v7vl4n"),e(mt,"x","12"),e(mt,"y","35"),e(mt,"class","textCity svelte-1v7vl4n"),e(Je,"x1","260"),e(Je,"y1",45),e(Je,"x2",260+oe),e(Je,"y2",45),e(Je,"stroke","white"),e(Je,"stroke-width","1"),e(Ne,"width","760"),e(Ne,"height",jt),e(Ne,"class","region-bar"),e(Ht,"class","left svelte-1v7vl4n"),e(Gt,"class","chart-wrapper svelte-1v7vl4n"),e(yt,"class","charts-inner svelte-1v7vl4n"),e(Ot,"class","charts-scroll-container svelte-1v7vl4n"),e(Et,"href","https://en.wikipedia.org/wiki/Local_regression"),e(Et,"target","_blank"),e(Dt,"href","/trend_sep_to_dec_23_24_25_activity_deduped.csv"),e(Dt,"target","_blank"),e(Lt,"href","/trend_sep_to_dec_agg_only.csv"),e(Lt,"target","_blank"),e(Vt,"href","https://github.com/schoolofcities/downtown-recovery/blob/main/src/routes/charts/us_trends/%2Bpage.svelte"),e(Vt,"target","_blank"),e(Le,"class","text svelte-1v7vl4n")},m(V,re){Pn(t,V,re),S(V,n,re),S(V,s,re),l(s,i),l(i,f),l(f,o),l(i,c),l(i,u),l(u,k),l(u,p),l(p,L),l(u,O),l(u,B),l(B,Z),l(u,W),l(u,j),l(j,b),l(i,G),l(i,N),l(N,K),l(K,se),l(K,ee),l(i,z),l(i,A),l(A,Q),l(i,x),l(i,y),l(y,w),l(y,E),l(E,q),l(y,D),l(y,F),l(y,R),l(y,ue),l(y,me),l(y,_),l(y,T),l(i,P),l(i,ne),l(ne,_e),l(ne,he),l(ne,Re),l(ne,Ee),l(ne,ye),l(i,ae),l(i,fe),l(fe,Te),l(i,we),l(i,Oe),l(Oe,ge),l(i,ze),l(i,Y),l(Y,ke),l(Y,Me),l(Me,Ge),l(Y,He),l(Y,ce),l(ce,ot),l(Y,Ae),l(Y,$),l($,Ye),l($,et),l(Y,tt),l(Y,De),l(Y,be),l(Y,Ue),l(Ue,rt),l(Y,kt),l(Y,ve),l(ve,Mt),l(Y,Xt),l(Y,ct),l(ct,It),l(ct,Qt),l(Y,Zt),l(Y,xt),l(Y,J),l(i,$t),l(i,Pe),l(Pe,Rt),l(Pe,ut),l(ut,er),l(Pe,tr),l(Pe,rr),l(Pe,lr),l(Pe,yr),l(Pe,gr),l(i,mr),l(i,ht),l(ht,wr),l(ht,Ct),l(Ct,kr),l(ht,br),l(ht,St),l(St,Cr),l(ht,Er),l(s,Dr),l(s,Ke),l(Ke,ft),l(ft,Lr),l(ft,Vr),l(ft,Ar),l(ft,Pr),l(ft,Tr),l(Ke,Mr),l(Ke,gt),l(gt,lt),l(lt,Nt),l(Nt,Ir),l(lt,Rr),l(lt,vt),l(vt,Sr),l(lt,Nr),l(lt,dt),l(dt,Br),l(gt,Or),l(gt,nt),l(nt,Bt),l(Bt,Gr),l(nt,Hr),l(nt,_t),l(_t,Ur),l(nt,qr),l(nt,pt),l(pt,Fr),l(Ke,Wr),je.m(Ke,null),l(s,zr),l(s,Ot),l(Ot,yt),l(yt,Gt),l(Gt,Ht),l(Ht,Ne),l(Ne,mt),l(mt,Yr),Xe.m(Ne,null),l(Ne,Je);for(let le=0;le<3;le+=1)qe[le]&&qe[le].m(Ne,null);l(yt,Kr),Qe.m(yt,null),l(s,Jr),l(s,Le),l(Le,jr),l(Le,Xr),l(Le,Qr),l(Le,Zr),l(Le,nr),l(nr,xr),l(Le,$r),l(Le,Be),l(Be,el),l(Be,Et),l(Et,tl),l(Be,rl),l(Be,Dt),l(Dt,ll),l(Be,nl),l(Be,Lt),l(Lt,il),l(Be,sl),l(Be,Vt),l(Vt,al),l(Be,ol),l(Le,cl),l(Le,ul),l(Le,hl),l(Le,fl),Ie=!0,vl||(bl=[At(vt,"click",r[29]),At(dt,"click",r[30]),At(_t,"click",r[31]),At(pt,"click",r[32])],vl=!0)},p(V,re){var le,ir;if((!Ie||re[0]&2048)&&xe(Ge,V[11]),(!Ie||re[0]&1024)&&xe(ot,V[10]),(!Ie||re[0]&512)&&Se!==(Se=(((le=V[9])==null?void 0:le.toFixed(1))??"...")+"")&&xe(Ye,Se),(!Ie||re[0]&256)&&xe(rt,V[8]),(!Ie||re[0]&1024)&&xe(Mt,V[10]),(!Ie||re[0]&128)&&bt!==(bt=(((ir=V[7])==null?void 0:ir.toFixed(1))??"...")+"")&&xe(It,bt),(!Ie||re[0]&1)&&at(vt,"active",V[0]==="overall"),(!Ie||re[0]&1)&&at(dt,"active",V[0]==="breakdown"),(!Ie||re[0]&4)&&at(_t,"active",V[2]==="2025vs2023"),(!Ie||re[0]&4)&&at(pt,"active",V[2]==="2025vs2024"),ur===(ur=Cl(V))&&je?je.p(V,re):(je.d(1),je=ur(V),je&&(je.c(),je.m(Ke,null))),hr===(hr=El(V))&&Xe?Xe.p(V,re):(Xe.d(1),Xe=hr(V),Xe&&(Xe.c(),Xe.m(Ne,Je))),re&0){dl=[0,1,2];let de;for(de=0;de<3;de+=1){const sr=un(V,dl,de);qe[de]?qe[de].p(sr,re):(qe[de]=_n(sr),qe[de].c(),qe[de].m(Ne,null))}for(;de<3;de+=1)qe[de].d(1)}fr===(fr=Dl(V))&&Qe?Qe.p(V,re):(Qe.d(1),Qe=fr(V),Qe&&(Qe.c(),Qe.m(yt,null)))},i(V){Ie||(Tn(t.$$.fragment,V),Ie=!0)},o(V){Mn(t.$$.fragment,V),Ie=!1},d(V){In(t,V),V&&a(n),V&&a(s),je.d(),Xe.d(),Pt(qe,V),Qe.d(),vl=!1,bn(bl)}}}let oe=500;const jt=80,wn=5,kn=10;function Jt(r){return parseFloat(r.agg_norm_distinct||0)}function pr(r){return parseFloat(r.normalized_distinct_clean||0)}function ii(r,t,n){let s,i,f,o,c,u,k,p={monthNames:"September to December",monthNumbers:[9,10,11,12],year1:2023,year2:2024,year3:2025,update_date:"2026-01-30"},L="overall",O=!0,B=!1;const Z=["WORK","HOME","NEITHER"],W={WORK:"var(--brandLightBlue)",HOME:"var(--brandYellow)",NEITHER:"var(--brandLightGreen)"},j={WORK:"Work",HOME:"Home",NEITHER:"Visitor"};let b=[...Z],G="2025vs2023";function N(P){b.includes(P)?n(1,b=b.filter(ne=>ne!==P)):n(1,b=[...b,P])}function K(){n(1,b=[...Z])}function se(){n(1,b=[])}let X=[],ee=[];async function z(){n(3,O=!0),performance.now();try{const ne=await(await fetch("/trend_sep_to_dec_agg_only.csv")).text();n(20,X=nn(ne)),n(23,w=[...new Set(X.map(_e=>_e.city))])}catch(P){console.error("Error loading aggregated CSV data:",P)}performance.now()}async function A(){n(4,B=!0),performance.now();try{const ne=await(await fetch("/trend_sep_to_dec_23_24_25_activity_deduped.csv")).text();n(21,ee=nn(ne))}catch(P){console.error("Error loading activity CSV data:",P)}performance.now(),n(4,B=!1)}Rn(async()=>{performance.now(),n(24,E=Hn.filter(P=>P.region!=="Canada").map(P=>P.city)),await z(),performance.now()});const Q=Un("%m/%d/%Y");let x=[],y=[],w=[],E=[],q,D=null,C=null;function F(P){return L==="breakdown"&&b.length>0&&P.activityLines?b.reduce((ne,_e)=>ne+(G==="2025vs2023"?P.activityLines[_e].percentChange2025vs2023:P.activityLines[_e].percentChange2025vs2024),0)/b.length:G==="2025vs2023"?P.percentageChange2025vs2023??0:P.percentageChange2025vs2024??0}const R=()=>{n(0,L="overall"),n(3,O=!0)},te=()=>{n(0,L="breakdown"),n(4,B=!0)},ue=()=>n(2,G="2025vs2023"),me=()=>n(2,G="2025vs2024"),Ve=P=>N(P),_=(P,ne,_e)=>ne+(G==="2025vs2023"?P.activityLines[_e].percentChange2025vs2023:P.activityLines[_e].percentChange2025vs2024);function T(){q=this.clientWidth,n(6,q)}return r.$$.update=()=>{r.$$.dirty[0]&59768833&&n(27,s=(()=>{if(w.length===0||X.length===0)return[];if(D!==null)return n(3,O=!1),D;performance.now();const P=w.map(ne=>{if(E.includes(ne)){const _e=(pe,Ee)=>{const ye=X.filter(ae=>{const fe=new Date(ae.date);return ae.city===ne&&fe>=pe&&fe<=Ee});if(L==="overall"){const ae=new Set;return ye.filter(fe=>ae.has(fe.date)?!1:(ae.add(fe.date),!0))}return ye},$e=_e(new Date("2023-09-01"),new Date("2023-12-31")),he=_e(new Date("2024-09-01"),new Date("2024-12-31")),Re=_e(new Date("2025-09-01"),new Date("2025-12-31"));if($e.length>0&&he.length>0&&Re.length>0){const pe=Ze($e,J=>Jt(J)),Ee=Ze(he,J=>Jt(J)),ye=Ze(Re,J=>Jt(J)),ae=(ye-Ee)/Ee*100,fe=(ye-pe)/pe*100,we=_r().x(J=>Q(J.date)).y(J=>Jt(J)).bandwidth(.2)($e),ge=_r().x(J=>Q(J.date)).y(J=>Jt(J)).bandwidth(.2)(he),Y=_r().x(J=>Q(J.date)).y(J=>Jt(J)).bandwidth(.2)(Re),ke=we.map(J=>J[1]),Me=ge.map(J=>J[1]),Ge=Y.map(J=>J[1]),He=[...ke,...Me,...Ge],ce=Math.min(...He),ot=Math.max(...He),$=(ot-ce)*.7,Se=ce-$,Ye=ot+$,et=5,tt=(oe-2*et)/3,De=(J,$t)=>{const Pe=new Date(J),Rt=Pe.getMonth(),ut=Pe.getDate(),er=Rt-8,tr=new Date(Pe.getFullYear(),Rt+1,0).getDate(),cr=ut/tr,rr=(er+cr)/4,lr=$t-2023;return et+lr*tt+rr*tt},be=ln().domain([Se,Ye]).range([jt-kn,wn]),Ue=Kt().x(J=>De(J[0],2023)).y(J=>be(J[1])),rt=Kt().x(J=>De(J[0],2024)).y(J=>be(J[1])),kt=Kt().x(J=>De(J[0],2025)).y(J=>be(J[1])),ve=Ue(we),Mt=rt(ge),Xt=kt(Y),ct={cx:De(we[0][0],2023),cy:be(we[0][1])},bt={cx:De(we[we.length-1][0],2023),cy:be(we[we.length-1][1])},It={cx:De(ge[0][0],2024),cy:be(ge[0][1])},Qt={cx:De(ge[ge.length-1][0],2024),cy:be(ge[ge.length-1][1])},Zt={cx:De(Y[0][0],2025),cy:be(Y[0][1])},or={cx:De(Y[Y.length-1][0],2025),cy:be(Y[Y.length-1][1])},xt=be(pe);return{city:ne,regressionLine2023:ve,regressionLine2024:Mt,regressionLine2025:Xt,startCircle2023:ct,endCircle2023:bt,startCircle2024:It,endCircle2024:Qt,startCircle2025:Zt,endCircle2025:or,meanLine:xt,percentageChange2025vs2024:ae,percentageChange2025vs2023:fe,perChange2025Display:fe.toFixed(2)+"%",perChange2024Display:ae.toFixed(2)+"%"}}}}).filter(ne=>ne!==void 0);return performance.now(),P.length>0&&(n(25,D=P),setTimeout(()=>{n(3,O=!1)},0)),P})()),r.$$.dirty[0]&94371841&&n(28,i=(()=>{if(L!=="breakdown"||w.length===0)return[];if(ee.length===0)return A(),[];if(C!==null)return n(4,B=!1),C;performance.now(),performance.now();const P=new Map,ne={2023:{start:new Date("2023-09-01"),end:new Date("2023-12-31")},2024:{start:new Date("2024-09-01"),end:new Date("2024-12-31")},2025:{start:new Date("2025-09-01"),end:new Date("2025-12-31")}};for(const he of ee){const Re=new Date(he.date);let pe=null;for(const[fe,Te]of Object.entries(ne))if(Re>=Te.start&&Re<=Te.end){pe=fe;break}if(pe===null)continue;const Ee=he.city,ye=he.ACTIVITY;P.has(Ee)||P.set(Ee,new Map);const ae=P.get(Ee);ae.has(ye)||ae.set(ye,{2023:[],2024:[],2025:[]}),ae.get(ye)[pe].push(he)}performance.now();const _e=_r().x(he=>Q(he.date)).y(he=>pr(he)).bandwidth(.2),$e=w.map(he=>{if(E.includes(he)){const Re=P.get(he);if(!Re)return;const pe={};let Ee=[];for(const ye of Z){const ae=Re.get(ye);if(!ae)continue;const fe=ae[2023],Te=ae[2024],we=ae[2025];if(fe.length>0&&Te.length>0&&we.length>0){const Oe=Ze(fe,ce=>pr(ce)),ge=Ze(Te,ce=>pr(ce)),ze=Ze(we,ce=>pr(ce)),Y=(ze-Oe)/Oe*100,ke=(ze-ge)/ge*100,Me=_e(fe),Ge=_e(Te),He=_e(we);Ee=[...Ee,...Me.map(ce=>ce[1]),...Ge.map(ce=>ce[1]),...He.map(ce=>ce[1])],pe[ye]={avg2023:Oe,avg2024:ge,avg2025:ze,percentChange2025vs2023:Y,percentChange2025vs2024:ke,regression2023:Me,regression2024:Ge,regression2025:He}}}if(Object.keys(pe).length===3){const ye=Math.min(...Ee),ae=Math.max(...Ee),Te=(ae-ye)*.5,we=ye-Te,Oe=ae+Te,ge=5,ze=(oe-2*ge)/3,Y=(Ae,$)=>{const Se=new Date(Ae),Ye=Se.getMonth(),et=Se.getDate(),tt=Ye-8,De=new Date(Se.getFullYear(),Ye+1,0).getDate(),be=et/De,Ue=(tt+be)/4,rt=$-2023;return ge+rt*ze+Ue*ze},ke=ln().domain([we,Oe]).range([jt-kn,wn]),Me={};for(const Ae of Z){const $=pe[Ae],Se=Kt().x(ve=>Y(ve[0],2023)).y(ve=>ke(ve[1])),Ye=Kt().x(ve=>Y(ve[0],2024)).y(ve=>ke(ve[1])),et=Kt().x(ve=>Y(ve[0],2025)).y(ve=>ke(ve[1])),tt={cx:Y($.regression2023[0][0],2023),cy:ke($.regression2023[0][1])},De={cx:Y($.regression2023[$.regression2023.length-1][0],2023),cy:ke($.regression2023[$.regression2023.length-1][1])},be={cx:Y($.regression2024[0][0],2024),cy:ke($.regression2024[0][1])},Ue={cx:Y($.regression2024[$.regression2024.length-1][0],2024),cy:ke($.regression2024[$.regression2024.length-1][1])},rt={cx:Y($.regression2025[0][0],2025),cy:ke($.regression2025[0][1])},kt={cx:Y($.regression2025[$.regression2025.length-1][0],2025),cy:ke($.regression2025[$.regression2025.length-1][1])};Me[Ae]={line2023:Se($.regression2023),line2024:Ye($.regression2024),line2025:et($.regression2025),percentChange2025vs2023:$.percentChange2025vs2023,percentChange2025vs2024:$.percentChange2025vs2024,startCircle2023:tt,endCircle2023:De,startCircle2024:be,endCircle2024:Ue,startCircle2025:rt,endCircle2025:kt}}const Ge=Ze(Z,Ae=>pe[Ae].percentChange2025vs2023),He=Ze(Z,Ae=>pe[Ae].percentChange2025vs2024),ce=Ze(Z,Ae=>pe[Ae].avg2023),ot=ke(ce);return{city:he,activityLines:Me,meanLine:ot,percentageChange2025vs2023:Ge,percentageChange2025vs2024:He,perChange2025Display:Ge.toFixed(1)+"%",perChange2024Display:He.toFixed(1)+"%"}}}}).filter(he=>he!==void 0);return performance.now(),$e.length>0&&(n(4,B=!1),n(26,C=$e)),$e})()),r.$$.dirty[0]&402653185&&n(22,x=L==="overall"?s:i),r.$$.dirty[0]&4194311&&(performance.now(),n(5,y=x.slice().sort((P,ne)=>F(ne)-F(P))),performance.now()),r.$$.dirty[0]&134217728&&n(11,f=s.filter(P=>P.percentageChange2025vs2024>0).length),r.$$.dirty[0]&134217728&&n(10,o=s.length),r.$$.dirty[0]&134217728&&n(9,c=Ze(s.map(P=>P.percentageChange2025vs2024))),r.$$.dirty[0]&134217728&&n(8,u=s.filter(P=>P.percentageChange2025vs2023>0).length),r.$$.dirty[0]&134217728&&n(7,k=Ze(s.map(P=>P.percentageChange2025vs2023)))},[L,b,G,O,B,y,q,k,u,c,o,f,p,Z,W,j,N,K,se,F,X,ee,x,w,E,D,C,s,i,R,te,ue,me,Ve,_,T]}class _i extends En{constructor(t){super(),Dn(this,t,ii,ni,Ln,{},null,[-1,-1])}}export{_i as component,di as universal};
